import{n as x,r as ne,j as oe}from"./index-BwutXNrU-ad44d3b.js";import{c as Re,S as Hr}from"./utils-XCGD-6Tw-ad44d3b.js";import{L as Zr}from"./label-DNc9PyzT-ad44d3b.js";var ge=e=>e.type==="checkbox",ie=e=>e instanceof Date,M=e=>e==null;const mr=e=>typeof e=="object";var P=e=>!M(e)&&!Array.isArray(e)&&mr(e)&&!ie(e),vr=e=>P(e)&&e.target?ge(e.target)?e.target.checked:e.target.value:e,Kr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,br=(e,t)=>e.has(Kr(t)),Gr=e=>{const t=e.constructor&&e.constructor.prototype;return P(t)&&t.hasOwnProperty("isPrototypeOf")},Te=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function R(e){let t;const r=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Te&&(e instanceof Blob||s))&&(r||P(e)))if(t=r?[]:{},!r&&!Gr(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=R(e[n]));else return e;return t}var we=e=>/^\w*$/.test(e),O=e=>e===void 0,Me=e=>Array.isArray(e)?e.filter(Boolean):[],Ue=e=>Me(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,t,r)=>{if(!t||!P(e))return r;const s=(we(t)?[t]:Ue(t)).reduce((n,o)=>M(n)?n:n[o],e);return O(s)||s===e?O(e[t])?r:e[t]:s},B=e=>typeof e=="boolean",w=(e,t,r)=>{let s=-1;const n=we(t)?[t]:Ue(t),o=n.length,u=o-1;for(;++s<o;){const c=n[s];let m=r;if(s!==u){const V=e[c];m=P(V)||Array.isArray(V)?V:isNaN(+n[s+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=m,e=e[c]}};const Ve={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},H={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Q={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ne=x.createContext(null);Ne.displayName="HookFormContext";const Ee=()=>x.useContext(Ne),Jr=e=>{const{children:t,...r}=e;return x.createElement(Ne.Provider,{value:r},t)};var _r=(e,t,r,s=!0)=>{const n={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(n,o,{get:()=>{const u=o;return t._proxyFormState[u]!==H.all&&(t._proxyFormState[u]=!s||H.all),r&&(r[u]=!0),e[u]}});return n};const je=typeof window<"u"?ne.useLayoutEffect:ne.useEffect;function Vr(e){const t=Ee(),{control:r=t.control,disabled:s,name:n,exact:o}=e||{},[u,c]=x.useState(r._formState),m=x.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return je(()=>r._subscribe({name:n,formState:m.current,exact:o,callback:V=>{!s&&c({...r._formState,...V})}}),[n,s,o]),x.useEffect(()=>{m.current.isValid&&r._setValid(!0)},[r]),x.useMemo(()=>_r(u,r,m.current,!1),[u,r])}var J=e=>typeof e=="string",Fr=(e,t,r,s,n)=>J(e)?(s&&t.watch.add(e),y(r,e,n)):Array.isArray(e)?e.map(o=>(s&&t.watch.add(o),y(r,o))):(s&&(t.watchAll=!0),r);function Yr(e){const t=Ee(),{control:r=t.control,name:s,defaultValue:n,disabled:o,exact:u}=e||{},c=x.useRef(n),[m,V]=x.useState(r._getWatch(s,c.current));return je(()=>r._subscribe({name:s,formState:{values:!0},exact:u,callback:v=>!o&&V(Fr(s,r._names,v.values||r._formValues,!1,c.current))}),[s,r,o,u]),x.useEffect(()=>r._removeUnmounted()),m}function Qr(e){const t=Ee(),{name:r,disabled:s,control:n=t.control,shouldUnregister:o}=e,u=br(n._names.array,r),c=Yr({control:n,name:r,defaultValue:y(n._formValues,r,y(n._defaultValues,r,e.defaultValue)),exact:!0}),m=Vr({control:n,name:r,exact:!0}),V=x.useRef(e),v=x.useRef(n.register(r,{...e.rules,value:c,...B(e.disabled)?{disabled:e.disabled}:{}})),S=x.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(m.errors,r)},isDirty:{enumerable:!0,get:()=>!!y(m.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!y(m.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!y(m.validatingFields,r)},error:{enumerable:!0,get:()=>y(m.errors,r)}}),[m,r]),b=x.useCallback(C=>v.current.onChange({target:{value:vr(C),name:r},type:Ve.CHANGE}),[r]),X=x.useCallback(()=>v.current.onBlur({target:{value:y(n._formValues,r),name:r},type:Ve.BLUR}),[r,n._formValues]),$=x.useCallback(C=>{const Y=y(n._fields,r);Y&&C&&(Y._f.ref={focus:()=>C.focus&&C.focus(),select:()=>C.select&&C.select(),setCustomValidity:_=>C.setCustomValidity(_),reportValidity:()=>C.reportValidity()})},[n._fields,r]),k=x.useMemo(()=>({name:r,value:c,...B(s)||m.disabled?{disabled:m.disabled||s}:{},onChange:b,onBlur:X,ref:$}),[r,s,m.disabled,b,X,$,c]);return x.useEffect(()=>{const C=n._options.shouldUnregister||o;n.register(r,{...V.current.rules,...B(V.current.disabled)?{disabled:V.current.disabled}:{}});const Y=(_,W)=>{const U=y(n._fields,_);U&&U._f&&(U._f.mount=W)};if(Y(r,!0),C){const _=R(y(n._options.defaultValues,r));w(n._defaultValues,r,_),O(y(n._formValues,r))&&w(n._formValues,r,_)}return!u&&n.register(r),()=>{(u?C&&!n._state.action:C)?n.unregister(r):Y(r,!1)}},[r,n,u,o]),x.useEffect(()=>{n._setDisabledField({disabled:s,name:r})},[s,r,n]),x.useMemo(()=>({field:k,formState:m,fieldState:S}),[k,m,S])}const Xr=e=>e.render(Qr(e));var Be=(e,t,r,s,n)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:n||!0}}:{},fe=e=>Array.isArray(e)?e:[e],rr=()=>{let e=[];return{get observers(){return e},next:n=>{for(const o of e)o.next&&o.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(o=>o!==n)}}),unsubscribe:()=>{e=[]}}},Ie=e=>M(e)||!mr(e);function te(e,t,r=new WeakSet){if(Ie(e)||Ie(t))return e===t;if(ie(e)&&ie(t))return e.getTime()===t.getTime();const s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const o of s){const u=e[o];if(!n.includes(o))return!1;if(o!=="ref"){const c=t[o];if(ie(u)&&ie(c)||P(u)&&P(c)||Array.isArray(u)&&Array.isArray(c)?!te(u,c,r):u!==c)return!1}}return!0}var j=e=>P(e)&&!Object.keys(e).length,ze=e=>e.type==="file",Z=e=>typeof e=="function",Fe=e=>{if(!Te)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},xr=e=>e.type==="select-multiple",$e=e=>e.type==="radio",et=e=>$e(e)||ge(e),Pe=e=>Fe(e)&&e.isConnected;function rt(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=O(e)?s++:e[t[s++]];return e}function tt(e){for(const t in e)if(e.hasOwnProperty(t)&&!O(e[t]))return!1;return!0}function I(e,t){const r=Array.isArray(t)?t:we(t)?[t]:Ue(t),s=r.length===1?e:rt(e,r),n=r.length-1,o=r[n];return s&&delete s[o],n!==0&&(P(s)&&j(s)||Array.isArray(s)&&tt(s))&&I(e,r.slice(0,-1)),e}var Ar=e=>{for(const t in e)if(Z(e[t]))return!0;return!1};function xe(e,t={}){const r=Array.isArray(e);if(P(e)||r)for(const s in e)Array.isArray(e[s])||P(e[s])&&!Ar(e[s])?(t[s]=Array.isArray(e[s])?[]:{},xe(e[s],t[s])):M(e[s])||(t[s]=!0);return t}function wr(e,t,r){const s=Array.isArray(e);if(P(e)||s)for(const n in e)Array.isArray(e[n])||P(e[n])&&!Ar(e[n])?O(t)||Ie(r[n])?r[n]=Array.isArray(e[n])?xe(e[n],[]):{...xe(e[n])}:wr(e[n],M(t)?{}:t[n],r[n]):r[n]=!te(e[n],t[n]);return r}var ce=(e,t)=>wr(e,t,xe(t));const tr={value:!1,isValid:!1},sr={value:!0,isValid:!0};var Er=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!O(e[0].attributes.value)?O(e[0].value)||e[0].value===""?sr:{value:e[0].value,isValid:!0}:sr:tr}return tr},Sr=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>O(e)?e:t?e===""?NaN:e&&+e:r&&J(e)?new Date(e):s?s(e):e;const ir={isValid:!1,value:null};var Dr=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,ir):ir;function nr(e){const t=e.ref;return ze(t)?t.files:$e(t)?Dr(e.refs).value:xr(t)?[...t.selectedOptions].map(({value:r})=>r):ge(t)?Er(e.refs).value:Sr(O(t.value)?e.ref.value:t.value,e)}var st=(e,t,r,s)=>{const n={};for(const o of e){const u=y(t,o);u&&w(n,o,u._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:s}},Ae=e=>e instanceof RegExp,de=e=>O(e)?e:Ae(e)?e.source:P(e)?Ae(e.value)?e.value.source:e.value:e,or=e=>({isOnSubmit:!e||e===H.onSubmit,isOnBlur:e===H.onBlur,isOnChange:e===H.onChange,isOnAll:e===H.all,isOnTouch:e===H.onTouched});const ar="AsyncFunction";var it=e=>!!e&&!!e.validate&&!!(Z(e.validate)&&e.validate.constructor.name===ar||P(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===ar)),nt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),ur=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const ye=(e,t,r,s)=>{for(const n of r||Object.keys(e)){const o=y(e,n);if(o){const{_f:u,...c}=o;if(u){if(u.refs&&u.refs[0]&&t(u.refs[0],n)&&!s)return!0;if(u.ref&&t(u.ref,u.name)&&!s)return!0;if(ye(c,t))break}else if(P(c)&&ye(c,t))break}}};function lr(e,t,r){const s=y(e,r);if(s||we(r))return{error:s,name:r};const n=r.split(".");for(;n.length;){const o=n.join("."),u=y(t,o),c=y(e,o);if(u&&!Array.isArray(u)&&r!==o)return{name:r};if(c&&c.type)return{name:o,error:c};if(c&&c.root&&c.root.type)return{name:`${o}.root`,error:c.root};n.pop()}return{name:r}}var ot=(e,t,r,s)=>{r(e);const{name:n,...o}=e;return j(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(u=>t[u]===(!s||H.all))},at=(e,t,r)=>!e||!t||e===t||fe(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s))),ut=(e,t,r,s,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(t||e):(r?s.isOnBlur:n.isOnBlur)?!e:(r?s.isOnChange:n.isOnChange)?e:!0,lt=(e,t)=>!Me(y(e,t)).length&&I(e,t),ct=(e,t,r)=>{const s=fe(y(e,r));return w(s,"root",t[r]),w(e,r,s),e},_e=e=>J(e);function cr(e,t,r="validate"){if(_e(e)||Array.isArray(e)&&e.every(_e)||B(e)&&!e)return{type:r,message:_e(e)?e:"",ref:t}}var ue=e=>P(e)&&!Ae(e)?e:{value:e,message:""},dr=async(e,t,r,s,n,o)=>{const{ref:u,refs:c,required:m,maxLength:V,minLength:v,min:S,max:b,pattern:X,validate:$,name:k,valueAsNumber:C,mount:Y}=e._f,_=y(r,k);if(!Y||t.has(k))return{};const W=c?c[0]:u,U=F=>{n&&W.reportValidity&&(W.setCustomValidity(B(F)?"":F||""),W.reportValidity())},L={},he=$e(u),ee=ge(u),Se=he||ee,q=(C||ze(u))&&O(u.value)&&O(_)||Fe(u)&&u.value===""||_===""||Array.isArray(_)&&!_.length,se=Be.bind(null,k,s,L),K=(F,E,p,T=Q.maxLength,N=Q.minLength)=>{const G=F?E:p;L[k]={type:F?T:N,message:G,ref:u,...se(F?T:N,G)}};if(o?!Array.isArray(_)||!_.length:m&&(!Se&&(q||M(_))||B(_)&&!_||ee&&!Er(c).isValid||he&&!Dr(c).isValid)){const{value:F,message:E}=_e(m)?{value:!!m,message:m}:ue(m);if(F&&(L[k]={type:Q.required,message:E,ref:W,...se(Q.required,E)},!s))return U(E),L}if(!q&&(!M(S)||!M(b))){let F,E;const p=ue(b),T=ue(S);if(!M(_)&&!isNaN(_)){const N=u.valueAsNumber||_&&+_;M(p.value)||(F=N>p.value),M(T.value)||(E=N<T.value)}else{const N=u.valueAsDate||new Date(_),G=me=>new Date(new Date().toDateString()+" "+me),le=u.type=="time",ae=u.type=="week";J(p.value)&&_&&(F=le?G(_)>G(p.value):ae?_>p.value:N>new Date(p.value)),J(T.value)&&_&&(E=le?G(_)<G(T.value):ae?_<T.value:N<new Date(T.value))}if((F||E)&&(K(!!F,p.message,T.message,Q.max,Q.min),!s))return U(L[k].message),L}if((V||v)&&!q&&(J(_)||o&&Array.isArray(_))){const F=ue(V),E=ue(v),p=!M(F.value)&&_.length>+F.value,T=!M(E.value)&&_.length<+E.value;if((p||T)&&(K(p,F.message,E.message),!s))return U(L[k].message),L}if(X&&!q&&J(_)){const{value:F,message:E}=ue(X);if(Ae(F)&&!_.match(F)&&(L[k]={type:Q.pattern,message:E,ref:u,...se(Q.pattern,E)},!s))return U(E),L}if($){if(Z($)){const F=await $(_,r),E=cr(F,W);if(E&&(L[k]={...E,...se(Q.validate,E.message)},!s))return U(E.message),L}else if(P($)){let F={};for(const E in $){if(!j(F)&&!s)break;const p=cr(await $[E](_,r),W,E);p&&(F={...p,...se(E,p.message)},U(p.message),s&&(L[k]=F))}if(!j(F)&&(L[k]={ref:W,...F},!s))return L}}return U(!0),L};const dt={mode:H.onSubmit,reValidateMode:H.onChange,shouldFocusError:!0};function ft(e={}){let t={...dt,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Z(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},n=P(t.defaultValues)||P(t.values)?R(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:R(n),u={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},m,V=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let S={...v};const b={array:rr(),state:rr()},X=t.criteriaMode===H.all,$=i=>a=>{clearTimeout(V),V=setTimeout(i,a)},k=async i=>{if(!t.disabled&&(v.isValid||S.isValid||i)){const a=t.resolver?j((await ee()).errors):await q(s,!0);a!==r.isValid&&b.state.next({isValid:a})}},C=(i,a)=>{!t.disabled&&(v.isValidating||v.validatingFields||S.isValidating||S.validatingFields)&&((i||Array.from(c.mount)).forEach(l=>{l&&(a?w(r.validatingFields,l,a):I(r.validatingFields,l))}),b.state.next({validatingFields:r.validatingFields,isValidating:!j(r.validatingFields)}))},Y=(i,a=[],l,g,f=!0,d=!0)=>{if(g&&l&&!t.disabled){if(u.action=!0,d&&Array.isArray(y(s,i))){const h=l(y(s,i),g.argA,g.argB);f&&w(s,i,h)}if(d&&Array.isArray(y(r.errors,i))){const h=l(y(r.errors,i),g.argA,g.argB);f&&w(r.errors,i,h),lt(r.errors,i)}if((v.touchedFields||S.touchedFields)&&d&&Array.isArray(y(r.touchedFields,i))){const h=l(y(r.touchedFields,i),g.argA,g.argB);f&&w(r.touchedFields,i,h)}(v.dirtyFields||S.dirtyFields)&&(r.dirtyFields=ce(n,o)),b.state.next({name:i,isDirty:K(i,a),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else w(o,i,a)},_=(i,a)=>{w(r.errors,i,a),b.state.next({errors:r.errors})},W=i=>{r.errors=i,b.state.next({errors:r.errors,isValid:!1})},U=(i,a,l,g)=>{const f=y(s,i);if(f){const d=y(o,i,O(l)?y(n,i):l);O(d)||g&&g.defaultChecked||a?w(o,i,a?d:nr(f._f)):p(i,d),u.mount&&k()}},L=(i,a,l,g,f)=>{let d=!1,h=!1;const A={name:i};if(!t.disabled){if(!l||g){(v.isDirty||S.isDirty)&&(h=r.isDirty,r.isDirty=A.isDirty=K(),d=h!==A.isDirty);const D=te(y(n,i),a);h=!!y(r.dirtyFields,i),D?I(r.dirtyFields,i):w(r.dirtyFields,i,!0),A.dirtyFields=r.dirtyFields,d=d||(v.dirtyFields||S.dirtyFields)&&h!==!D}if(l){const D=y(r.touchedFields,i);D||(w(r.touchedFields,i,l),A.touchedFields=r.touchedFields,d=d||(v.touchedFields||S.touchedFields)&&D!==l)}d&&f&&b.state.next(A)}return d?A:{}},he=(i,a,l,g)=>{const f=y(r.errors,i),d=(v.isValid||S.isValid)&&B(a)&&r.isValid!==a;if(t.delayError&&l?(m=$(()=>_(i,l)),m(t.delayError)):(clearTimeout(V),m=null,l?w(r.errors,i,l):I(r.errors,i)),(l?!te(f,l):f)||!j(g)||d){const h={...g,...d&&B(a)?{isValid:a}:{},errors:r.errors,name:i};r={...r,...h},b.state.next(h)}},ee=async i=>{C(i,!0);const a=await t.resolver(o,t.context,st(i||c.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return C(i),a},Se=async i=>{const{errors:a}=await ee(i);if(i)for(const l of i){const g=y(a,l);g?w(r.errors,l,g):I(r.errors,l)}else r.errors=a;return a},q=async(i,a,l={valid:!0})=>{for(const g in i){const f=i[g];if(f){const{_f:d,...h}=f;if(d){const A=c.array.has(d.name),D=f._f&&it(f._f);D&&v.validatingFields&&C([g],!0);const z=await dr(f,c.disabled,o,X,t.shouldUseNativeValidation&&!a,A);if(D&&v.validatingFields&&C([g]),z[d.name]&&(l.valid=!1,a))break;!a&&(y(z,d.name)?A?ct(r.errors,z,d.name):w(r.errors,d.name,z[d.name]):I(r.errors,d.name))}!j(h)&&await q(h,a,l)}}return l.valid},se=()=>{for(const i of c.unMount){const a=y(s,i);a&&(a._f.refs?a._f.refs.every(l=>!Pe(l)):!Pe(a._f.ref))&&De(i)}c.unMount=new Set},K=(i,a)=>!t.disabled&&(i&&a&&w(o,i,a),!te(me(),n)),F=(i,a,l)=>Fr(i,c,{...u.mount?o:O(a)?n:J(i)?{[i]:a}:a},l,a),E=i=>Me(y(u.mount?o:n,i,t.shouldUnregister?y(n,i,[]):[])),p=(i,a,l={})=>{const g=y(s,i);let f=a;if(g){const d=g._f;d&&(!d.disabled&&w(o,i,Sr(a,d)),f=Fe(d.ref)&&M(a)?"":a,xr(d.ref)?[...d.ref.options].forEach(h=>h.selected=f.includes(h.value)):d.refs?ge(d.ref)?d.refs.forEach(h=>{(!h.defaultChecked||!h.disabled)&&(Array.isArray(f)?h.checked=!!f.find(A=>A===h.value):h.checked=f===h.value||!!f)}):d.refs.forEach(h=>h.checked=h.value===f):ze(d.ref)?d.ref.value="":(d.ref.value=f,d.ref.type||b.state.next({name:i,values:R(o)})))}(l.shouldDirty||l.shouldTouch)&&L(i,f,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&ae(i)},T=(i,a,l)=>{for(const g in a){if(!a.hasOwnProperty(g))return;const f=a[g],d=i+"."+g,h=y(s,d);(c.array.has(i)||P(f)||h&&!h._f)&&!ie(f)?T(d,f,l):p(d,f,l)}},N=(i,a,l={})=>{const g=y(s,i),f=c.array.has(i),d=R(a);w(o,i,d),f?(b.array.next({name:i,values:R(o)}),(v.isDirty||v.dirtyFields||S.isDirty||S.dirtyFields)&&l.shouldDirty&&b.state.next({name:i,dirtyFields:ce(n,o),isDirty:K(i,d)})):g&&!g._f&&!M(d)?T(i,d,l):p(i,d,l),ur(i,c)&&b.state.next({...r}),b.state.next({name:u.mount?i:void 0,values:R(o)})},G=async i=>{u.mount=!0;const a=i.target;let l=a.name,g=!0;const f=y(s,l),d=D=>{g=Number.isNaN(D)||ie(D)&&isNaN(D.getTime())||te(D,y(o,l,D))},h=or(t.mode),A=or(t.reValidateMode);if(f){let D,z;const ve=a.type?nr(f._f):vr(i),re=i.type===Ve.BLUR||i.type===Ve.FOCUS_OUT,$r=!nt(f._f)&&!t.resolver&&!y(r.errors,l)&&!f._f.deps||ut(re,y(r.touchedFields,l),r.isSubmitted,A,h),pe=ur(l,c,re);w(o,l,ve),re?(f._f.onBlur&&f._f.onBlur(i),m&&m(0)):f._f.onChange&&f._f.onChange(i);const Oe=L(l,ve,re),Wr=!j(Oe)||pe;if(!re&&b.state.next({name:l,type:i.type,values:R(o)}),$r)return(v.isValid||S.isValid)&&(t.mode==="onBlur"?re&&k():re||k()),Wr&&b.state.next({name:l,...pe?{}:Oe});if(!re&&pe&&b.state.next({...r}),t.resolver){const{errors:Xe}=await ee([l]);if(d(ve),g){const qr=lr(r.errors,s,l),er=lr(Xe,s,qr.name||l);D=er.error,l=er.name,z=j(Xe)}}else C([l],!0),D=(await dr(f,c.disabled,o,X,t.shouldUseNativeValidation))[l],C([l]),d(ve),g&&(D?z=!1:(v.isValid||S.isValid)&&(z=await q(s,!0)));g&&(f._f.deps&&ae(f._f.deps),he(l,z,D,Oe))}},le=(i,a)=>{if(y(r.errors,a)&&i.focus)return i.focus(),1},ae=async(i,a={})=>{let l,g;const f=fe(i);if(t.resolver){const d=await Se(O(i)?i:f);l=j(d),g=i?!f.some(h=>y(d,h)):l}else i?(g=(await Promise.all(f.map(async d=>{const h=y(s,d);return await q(h&&h._f?{[d]:h}:h)}))).every(Boolean),!(!g&&!r.isValid)&&k()):g=l=await q(s);return b.state.next({...!J(i)||(v.isValid||S.isValid)&&l!==r.isValid?{}:{name:i},...t.resolver||!i?{isValid:l}:{},errors:r.errors}),a.shouldFocus&&!g&&ye(s,le,i?f:c.mount),g},me=i=>{const a={...u.mount?o:n};return O(i)?a:J(i)?y(a,i):i.map(l=>y(a,l))},qe=(i,a)=>({invalid:!!y((a||r).errors,i),isDirty:!!y((a||r).dirtyFields,i),error:y((a||r).errors,i),isValidating:!!y(r.validatingFields,i),isTouched:!!y((a||r).touchedFields,i)}),Tr=i=>{i&&fe(i).forEach(a=>I(r.errors,a)),b.state.next({errors:i?r.errors:{}})},He=(i,a,l)=>{const g=(y(s,i,{_f:{}})._f||{}).ref,f=y(r.errors,i)||{},{ref:d,message:h,type:A,...D}=f;w(r.errors,i,{...D,...a,ref:g}),b.state.next({name:i,errors:r.errors,isValid:!1}),l&&l.shouldFocus&&g&&g.focus&&g.focus()},Mr=(i,a)=>Z(i)?b.state.subscribe({next:l=>i(F(void 0,a),l)}):F(i,a,!0),Ze=i=>b.state.subscribe({next:a=>{at(i.name,a.name,i.exact)&&ot(a,i.formState||v,zr,i.reRenderRoot)&&i.callback({values:{...o},...r,...a})}}).unsubscribe,Ur=i=>(u.mount=!0,S={...S,...i.formState},Ze({...i,formState:S})),De=(i,a={})=>{for(const l of i?fe(i):c.mount)c.mount.delete(l),c.array.delete(l),a.keepValue||(I(s,l),I(o,l)),!a.keepError&&I(r.errors,l),!a.keepDirty&&I(r.dirtyFields,l),!a.keepTouched&&I(r.touchedFields,l),!a.keepIsValidating&&I(r.validatingFields,l),!t.shouldUnregister&&!a.keepDefaultValue&&I(n,l);b.state.next({values:R(o)}),b.state.next({...r,...a.keepDirty?{isDirty:K()}:{}}),!a.keepIsValid&&k()},Ke=({disabled:i,name:a})=>{(B(i)&&u.mount||i||c.disabled.has(a))&&(i?c.disabled.add(a):c.disabled.delete(a))},ke=(i,a={})=>{let l=y(s,i);const g=B(a.disabled)||B(t.disabled);return w(s,i,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:i}},name:i,mount:!0,...a}}),c.mount.add(i),l?Ke({disabled:B(a.disabled)?a.disabled:t.disabled,name:i}):U(i,!0,a.value),{...g?{disabled:a.disabled||t.disabled}:{},...t.progressive?{required:!!a.required,min:de(a.min),max:de(a.max),minLength:de(a.minLength),maxLength:de(a.maxLength),pattern:de(a.pattern)}:{},name:i,onChange:G,onBlur:G,ref:f=>{if(f){ke(i,a),l=y(s,i);const d=O(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,h=et(d),A=l._f.refs||[];if(h?A.find(D=>D===d):d===l._f.ref)return;w(s,i,{_f:{...l._f,...h?{refs:[...A.filter(Pe),d,...Array.isArray(y(n,i))?[{}]:[]],ref:{type:d.type,name:i}}:{ref:d}}}),U(i,!1,void 0,d)}else l=y(s,i,{}),l._f&&(l._f.mount=!1),(t.shouldUnregister||a.shouldUnregister)&&!(br(c.array,i)&&u.action)&&c.unMount.add(i)}}},Ce=()=>t.shouldFocusError&&ye(s,le,c.mount),Nr=i=>{B(i)&&(b.state.next({disabled:i}),ye(s,(a,l)=>{const g=y(s,l);g&&(a.disabled=g._f.disabled||i,Array.isArray(g._f.refs)&&g._f.refs.forEach(f=>{f.disabled=g._f.disabled||i}))},0,!1))},Ge=(i,a)=>async l=>{let g;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let f=R(o);if(b.state.next({isSubmitting:!0}),t.resolver){const{errors:d,values:h}=await ee();r.errors=d,f=R(h)}else await q(s);if(c.disabled.size)for(const d of c.disabled)I(f,d);if(I(r.errors,"root"),j(r.errors)){b.state.next({errors:{}});try{await i(f,l)}catch(d){g=d}}else a&&await a({...r.errors},l),Ce(),setTimeout(Ce);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:j(r.errors)&&!g,submitCount:r.submitCount+1,errors:r.errors}),g)throw g},jr=(i,a={})=>{y(s,i)&&(O(a.defaultValue)?N(i,R(y(n,i))):(N(i,a.defaultValue),w(n,i,R(a.defaultValue))),a.keepTouched||I(r.touchedFields,i),a.keepDirty||(I(r.dirtyFields,i),r.isDirty=a.defaultValue?K(i,R(y(n,i))):K()),a.keepError||(I(r.errors,i),v.isValid&&k()),b.state.next({...r}))},Je=(i,a={})=>{const l=i?R(i):n,g=R(l),f=j(i),d=f?n:g;if(a.keepDefaultValues||(n=l),!a.keepValues){if(a.keepDirtyValues){const h=new Set([...c.mount,...Object.keys(ce(n,o))]);for(const A of Array.from(h))y(r.dirtyFields,A)?w(d,A,y(o,A)):N(A,y(d,A))}else{if(Te&&O(i))for(const h of c.mount){const A=y(s,h);if(A&&A._f){const D=Array.isArray(A._f.refs)?A._f.refs[0]:A._f.ref;if(Fe(D)){const z=D.closest("form");if(z){z.reset();break}}}}if(a.keepFieldsRef)for(const h of c.mount)N(h,y(d,h));else s={}}o=t.shouldUnregister?a.keepDefaultValues?R(n):{}:R(d),b.array.next({values:{...d}}),b.state.next({values:{...d}})}c={mount:a.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!v.isValid||!!a.keepIsValid||!!a.keepDirtyValues,u.watch=!!t.shouldUnregister,b.state.next({submitCount:a.keepSubmitCount?r.submitCount:0,isDirty:f?!1:a.keepDirty?r.isDirty:!!(a.keepDefaultValues&&!te(i,n)),isSubmitted:a.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:f?{}:a.keepDirtyValues?a.keepDefaultValues&&o?ce(n,o):r.dirtyFields:a.keepDefaultValues&&i?ce(n,i):a.keepDirty?r.dirtyFields:{},touchedFields:a.keepTouched?r.touchedFields:{},errors:a.keepErrors?r.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ye=(i,a)=>Je(Z(i)?i(o):i,a),Br=(i,a={})=>{const l=y(s,i),g=l&&l._f;if(g){const f=g.refs?g.refs[0]:g.ref;f.focus&&(f.focus(),a.shouldSelect&&Z(f.select)&&f.select())}},zr=i=>{r={...r,...i}},Qe={control:{register:ke,unregister:De,getFieldState:qe,handleSubmit:Ge,setError:He,_subscribe:Ze,_runSchema:ee,_focusError:Ce,_getWatch:F,_getDirty:K,_setValid:k,_setFieldArray:Y,_setDisabledField:Ke,_setErrors:W,_getFieldArray:E,_reset:Je,_resetDefaultValues:()=>Z(t.defaultValues)&&t.defaultValues().then(i=>{Ye(i,t.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:se,_disableForm:Nr,_subjects:b,_proxyFormState:v,get _fields(){return s},get _formValues(){return o},get _state(){return u},set _state(i){u=i},get _defaultValues(){return n},get _names(){return c},set _names(i){c=i},get _formState(){return r},get _options(){return t},set _options(i){t={...t,...i}}},subscribe:Ur,trigger:ae,register:ke,handleSubmit:Ge,watch:Mr,setValue:N,getValues:me,reset:Ye,resetField:jr,clearErrors:Tr,unregister:De,setError:He,setFocus:Br,getFieldState:qe};return{...Qe,formControl:Qe}}function kt(e={}){const t=x.useRef(void 0),r=x.useRef(void 0),[s,n]=x.useState({isDirty:!1,isValidating:!1,isLoading:Z(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Z(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:s},e.defaultValues&&!Z(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:u,...c}=ft(e);t.current={...c,formState:s}}const o=t.current.control;return o._options=e,je(()=>{const u=o._subscribe({formState:o._proxyFormState,callback:()=>n({...o._formState}),reRenderRoot:!0});return n(c=>({...c,isReady:!0})),o._formState.isReady=!0,u},[o]),x.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),x.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),x.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),x.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),x.useEffect(()=>{if(o._proxyFormState.isDirty){const u=o._getDirty();u!==s.isDirty&&o._subjects.state.next({isDirty:u})}},[o,s.isDirty]),x.useEffect(()=>{e.values&&!te(e.values,r.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),r.current=e.values,n(u=>({...u}))):o._resetDefaultValues()},[o,e.values]),x.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=_r(s,o),t.current}const Ct=Jr,kr=ne.createContext({}),pt=({...e})=>oe.jsx(kr.Provider,{value:{name:e.name},children:oe.jsx(Xr,{...e})}),We=()=>{const e=ne.useContext(kr),t=ne.useContext(Cr),{getFieldState:r}=Ee(),s=Vr({name:e.name}),n=r(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...n}},Cr=ne.createContext({});function Ot({className:e,...t}){const r=ne.useId();return oe.jsx(Cr.Provider,{value:{id:r},children:oe.jsx("div",{"data-slot":"form-item",className:Re("grid gap-2",e),...t})})}function Pt({className:e,...t}){const{error:r,formItemId:s}=We();return oe.jsx(Zr,{"data-slot":"form-label","data-error":!!r,className:Re("data-[error=true]:text-destructive",e),htmlFor:s,...t})}function It({...e}){const{error:t,formItemId:r,formDescriptionId:s,formMessageId:n}=We();return oe.jsx(Hr,{"data-slot":"form-control",id:r,"aria-describedby":t?`${s} ${n}`:`${s}`,"aria-invalid":!!t,...e})}function Lt({className:e,...t}){const{error:r,formMessageId:s}=We(),n=r?String(r?.message??""):t.children;return n?oe.jsx("p",{"data-slot":"form-message",id:s,className:Re("text-destructive text-sm",e),...t,children:n}):null}const fr=(e,t,r)=>{if(e&&"reportValidity"in e){const s=y(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},Le=(e,t)=>{for(const r in t.fields){const s=t.fields[r];s&&s.ref&&"reportValidity"in s.ref?fr(s.ref,r,e):s&&s.refs&&s.refs.forEach(n=>fr(n,r,e))}},yr=(e,t)=>{t.shouldUseNativeValidation&&Le(e,t);const r={};for(const s in e){const n=y(t.fields,s),o=Object.assign(e[s]||{},{ref:n&&n.ref});if(yt(t.names||Object.keys(e),s)){const u=Object.assign({},y(r,s));w(u,"root",o),w(r,s,u)}else w(r,s,o)}return r},yt=(e,t)=>{const r=gr(t);return e.some(s=>gr(s).match(`^${r}\\.\\d+`))};function gr(e){return e.replace(/\]|\[/g,"")}function pr(e,t,r){function s(c,m){var V;Object.defineProperty(c,"_zod",{value:c._zod??{},enumerable:!1}),(V=c._zod).traits??(V.traits=new Set),c._zod.traits.add(e),t(c,m);for(const v in u.prototype)v in c||Object.defineProperty(c,v,{value:u.prototype[v].bind(c)});c._zod.constr=u,c._zod.def=m}const n=r?.Parent??Object;class o extends n{}Object.defineProperty(o,"name",{value:e});function u(c){var m;const V=r?.Parent?new o:this;s(V,c),(m=V._zod).deferred??(m.deferred=[]);for(const v of V._zod.deferred)v();return V}return Object.defineProperty(u,"init",{value:s}),Object.defineProperty(u,Symbol.hasInstance,{value:c=>r?.Parent&&c instanceof r.Parent?!0:c?._zod?.traits?.has(e)}),Object.defineProperty(u,"name",{value:e}),u}class gt extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const ht={};function Or(e){return ht}function mt(e,t){return typeof t=="bigint"?t.toString():t}const Pr=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function be(e){return typeof e=="string"?e:e?.message}function Ir(e,t,r){const s={...e,path:e.path??[]};if(!e.message){const n=be(e.inst?._zod.def?.error?.(e))??be(t?.error?.(e))??be(r.customError?.(e))??be(r.localeError?.(e))??"Invalid input";s.message=n}return delete s.inst,delete s.continue,t?.reportInput||delete s.input,s}const Lr=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,mt,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},vt=pr("$ZodError",Lr),Rr=pr("$ZodError",Lr,{Parent:Error}),bt=e=>(t,r,s,n)=>{const o=s?Object.assign(s,{async:!1}):{async:!1},u=t._zod.run({value:r,issues:[]},o);if(u instanceof Promise)throw new gt;if(u.issues.length){const c=new(n?.Err??e)(u.issues.map(m=>Ir(m,o,Or())));throw Pr(c,n?.callee),c}return u.value},_t=bt(Rr),Vt=e=>async(t,r,s,n)=>{const o=s?Object.assign(s,{async:!0}):{async:!0};let u=t._zod.run({value:r,issues:[]},o);if(u instanceof Promise&&(u=await u),u.issues.length){const c=new(n?.Err??e)(u.issues.map(m=>Ir(m,o,Or())));throw Pr(c,n?.callee),c}return u.value},Ft=Vt(Rr);function hr(e,t){try{var r=e()}catch(s){return t(s)}return r&&r.then?r.then(void 0,t):r}function xt(e,t){for(var r={};e.length;){var s=e[0],n=s.code,o=s.message,u=s.path.join(".");if(!r[u])if("unionErrors"in s){var c=s.unionErrors[0].errors[0];r[u]={message:c.message,type:c.code}}else r[u]={message:o,type:n};if("unionErrors"in s&&s.unionErrors.forEach(function(v){return v.errors.forEach(function(S){return e.push(S)})}),t){var m=r[u].types,V=m&&m[s.code];r[u]=Be(u,t,r,n,V?[].concat(V,s.message):s.message)}e.shift()}return r}function At(e,t){for(var r={};e.length;){var s=e[0],n=s.code,o=s.message,u=s.path.join(".");if(!r[u])if(s.code==="invalid_union"){var c=s.errors[0][0];r[u]={message:c.message,type:c.code}}else r[u]={message:o,type:n};if(s.code==="invalid_union"&&s.errors.forEach(function(v){return v.forEach(function(S){return e.push(S)})}),t){var m=r[u].types,V=m&&m[s.code];r[u]=Be(u,t,r,n,V?[].concat(V,s.message):s.message)}e.shift()}return r}function Rt(e,t,r){if(r===void 0&&(r={}),function(s){return"_def"in s&&typeof s._def=="object"&&"typeName"in s._def}(e))return function(s,n,o){try{return Promise.resolve(hr(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(u){return o.shouldUseNativeValidation&&Le({},o),{errors:{},values:r.raw?Object.assign({},s):u}})},function(u){if(function(c){return Array.isArray(c?.issues)}(u))return{values:{},errors:yr(xt(u.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw u}))}catch(u){return Promise.reject(u)}};if(function(s){return"_zod"in s&&typeof s._zod=="object"}(e))return function(s,n,o){try{return Promise.resolve(hr(function(){return Promise.resolve((r.mode==="sync"?_t:Ft)(e,s,t)).then(function(u){return o.shouldUseNativeValidation&&Le({},o),{errors:{},values:r.raw?Object.assign({},s):u}})},function(u){if(function(c){return c instanceof vt}(u))return{values:{},errors:yr(At(u.issues,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw u}))}catch(u){return Promise.reject(u)}};throw new Error("Invalid input: not a Zod schema")}export{Ct as F,Rt as a,pt as b,Ot as c,Pt as d,It as e,Lt as f,kt as u};
