import{K as l,j as t,L as m}from"./index-zp2nMl9D-1751174980531.js";import{B as x}from"./button-Cqc4v3GU-1751174980531.js";import{C as f,a as h,b as u,d as p,e as j}from"./card-Dg8wDAoB-1751174980531.js";import{P as g,E as N}from"./page-header-CtYKi_K4-1751174980531.js";import{M as _}from"./markdown-C1PxgyY9-1751174980531.js";import{P as a}from"./package-CC7CMkB8-1751174980531.js";import"./utils-BIJI3SUY-1751174980531.js";import"./createLucideIcon-Ru6o5lSX-1751174980531.js";const V=function(){const i=l.useLoaderData(),o=e=>e?(e/100).toFixed(2):null,n=e=>{const s=[e.month_price,e.quarter_price,e.half_year_price,e.year_price,e.two_year_price,e.three_year_price,e.onetime_price].filter(Boolean);return s.length>0?Math.min(...s):null},c=(()=>{const e=i.map(r=>{if(!r.month_price||!r.transfer_enable)return{id:r.id,ratio:0};const d=r.transfer_enable/(1024*1024*1024);return{id:r.id,ratio:d/(r.month_price/100)}}),s=Math.max(...e.map(r=>r.ratio));return e.find(r=>r.ratio===s&&r.ratio>0)?.id})();return t.jsxs("div",{className:"space-y-6",children:[t.jsx(g,{className:"flex flex-col justify-center items-center",title:"套餐选择",description:"选择最适合您的服务套餐",icon:a}),i.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(e=>{const s=n(e),r=e.id===c;return t.jsxs(f,{className:"relative overflow-hidden",children:[r&&t.jsx("div",{className:"absolute top-4 -right-10 z-10",children:t.jsx("div",{className:"bg-primary text-primary-foreground text-sm font-bold px-10 py-2 transform rotate-45 shadow-lg",children:"性价比最高"})}),t.jsx(h,{className:"pb-4",children:t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{children:[t.jsx(u,{className:"text-lg font-bold",children:e.name}),s&&t.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[t.jsxs("span",{className:"text-2xl font-bold text-primary",children:["¥",o(s)]}),t.jsx("span",{className:"text-sm text-muted-foreground",children:"起"})]})]})})}),t.jsx(p,{children:e.content&&t.jsx(_,{content:e.content})}),t.jsx(j,{children:t.jsx(m,{to:"/plan/$id",params:{id:e.id.toString()},className:"w-full",children:t.jsx(x,{className:"w-full cursor-pointer",children:"立即购买"})})})]},e.id)})}):t.jsx(N,{icon:a,title:"暂无可用套餐",description:"目前没有可购买的套餐，请稍后再来查看"})]})};export{V as component};
