import{r as A,j as e,n as y,c as vt,z as O,L as re,A as Me,B as bt,t as Ce}from"./index-CFrvu99Y-0b001e1.js";import{c as se,B as z}from"./button-OUq2HN3_-0b001e1.js";import{d as B,a as ae,b as oe,c as ne,C as Nt}from"./card-DBTexpMc-0b001e1.js";import{c as ie,u as yt}from"./index-CPzO37nU-0b001e1.js";import{c as Ct}from"./index-1vyRVMxK-0b001e1.js";import{u as Pe,c as Q}from"./utils-DGJa7bZG-0b001e1.js";import{c as Ie}from"./index-Dc_FVRD7-0b001e1.js";import{u as le}from"./index-B50u4-99-0b001e1.js";import{P as D}from"./index-B42L2BaG-0b001e1.js";import{P as jt}from"./index-Du9Zv6aY-0b001e1.js";import{u as Se}from"./index-olTFxtxL-0b001e1.js";import{u as wt}from"./index-D2Z1yg9b-0b001e1.js";import{C as At}from"./chevron-down-Dj45Ovva-0b001e1.js";import{T as Et,a as Rt,b as Mt,c as Pt}from"./tooltip-Cvv-WxSO-0b001e1.js";import{A as It,a as St,b as kt,c as _t,d as Dt,e as Lt,f as Tt,g as Ot,h as $t}from"./alert-dialog-Cwv3L2v0-0b001e1.js";import{A as zt,a as Bt,b as Ut}from"./alert-BkHp5vbN-0b001e1.js";import{d as ke,f as W}from"./formatters-DpdTcjfQ-0b001e1.js";import{S as Z}from"./static-magic-card-WWULp_wa-0b001e1.js";import{u as q,a as _e,b as Ft}from"./index.esm-B3kCPiJ0-0b001e1.js";import{u as Ht,C as Qt}from"./index-D_5FNCKk-0b001e1.js";import{M as Vt}from"./markdown-CcdZrk7y-0b001e1.js";import{S as Gt}from"./scroll-area-BErGgycI-0b001e1.js";import{S as Xt}from"./shopping-cart-DbjRERhR-0b001e1.js";import{T as Yt}from"./ticket-BW5BoDtL-0b001e1.js";import{A as De}from"./arrow-right-Ch6tyn01-0b001e1.js";import{P as je}from"./package-B1YrBFeQ-0b001e1.js";import{Z as Kt,U as Wt}from"./zap-CwzNgTv6-0b001e1.js";import{C as Zt}from"./calendar-oHHsHpLG-0b001e1.js";import{W as qt}from"./wifi-Dc5clDm3-0b001e1.js";import{D as Jt}from"./download-ZEsrUAWY-0b001e1.js";import{G as er}from"./gift-BkIbxEAu-0b001e1.js";import"./index-Dac5DslT-0b001e1.js";import"./index-DshLixFs-0b001e1.js";import"./index-BUl5N7pE-0b001e1.js";import"./index-BHrD4RGc-0b001e1.js";import"./index-DNKChOzK-0b001e1.js";import"./tslib.es6-B8VhMk5P-0b001e1.js";import"./circle-check-big-B7Kvin5X-0b001e1.js";import"./index-BdQq_4o_-0b001e1.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],rr=se("bell",tr);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],we=se("external-link",sr);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],or=se("sparkles",ar);var V="Collapsible",[nr,Le]=ie(V),[ir,ce]=nr(V),Te=A.forwardRef((n,a)=>{const{__scopeCollapsible:o,open:l,defaultOpen:d,disabled:u,onOpenChange:g,...p}=n,[t,s]=le({prop:l,defaultProp:d??!1,onChange:g,caller:V});return e.jsx(ir,{scope:o,disabled:u,contentId:Se(),open:t,onOpenToggle:A.useCallback(()=>s(r=>!r),[s]),children:e.jsx(D.div,{"data-state":ue(t),"data-disabled":u?"":void 0,...p,ref:a})})});Te.displayName=V;var Oe="CollapsibleTrigger",$e=A.forwardRef((n,a)=>{const{__scopeCollapsible:o,...l}=n,d=ce(Oe,o);return e.jsx(D.button,{type:"button","aria-controls":d.contentId,"aria-expanded":d.open||!1,"data-state":ue(d.open),"data-disabled":d.disabled?"":void 0,disabled:d.disabled,...l,ref:a,onClick:Ie(n.onClick,d.onOpenToggle)})});$e.displayName=Oe;var de="CollapsibleContent",ze=A.forwardRef((n,a)=>{const{forceMount:o,...l}=n,d=ce(de,n.__scopeCollapsible);return e.jsx(jt,{present:o||d.open,children:({present:u})=>e.jsx(lr,{...l,ref:a,present:u})})});ze.displayName=de;var lr=A.forwardRef((n,a)=>{const{__scopeCollapsible:o,present:l,children:d,...u}=n,g=ce(de,o),[p,t]=A.useState(l),s=A.useRef(null),r=Pe(a,s),i=A.useRef(0),c=i.current,h=A.useRef(0),m=h.current,x=g.open||p,f=A.useRef(x),w=A.useRef(void 0);return A.useEffect(()=>{const b=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(b)},[]),yt(()=>{const b=s.current;if(b){w.current=w.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const v=b.getBoundingClientRect();i.current=v.height,h.current=v.width,f.current||(b.style.transitionDuration=w.current.transitionDuration,b.style.animationName=w.current.animationName),t(l)}},[g.open,l]),e.jsx(D.div,{"data-state":ue(g.open),"data-disabled":g.disabled?"":void 0,id:g.contentId,hidden:!x,...u,ref:r,style:{"--radix-collapsible-content-height":c?`${c}px`:void 0,"--radix-collapsible-content-width":m?`${m}px`:void 0,...n.style},children:x&&d})});function ue(n){return n?"open":"closed"}var cr=Te,dr=$e,ur=ze,M="Accordion",mr=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[me,pr,hr]=Ct(M),[G,zs]=ie(M,[hr,Le]),pe=Le(),Be=y.forwardRef((n,a)=>{const{type:o,...l}=n,d=l,u=l;return e.jsx(me.Provider,{scope:n.__scopeAccordion,children:o==="multiple"?e.jsx(vr,{...u,ref:a}):e.jsx(xr,{...d,ref:a})})});Be.displayName=M;var[Ue,fr]=G(M),[Fe,gr]=G(M,{collapsible:!1}),xr=y.forwardRef((n,a)=>{const{value:o,defaultValue:l,onValueChange:d=()=>{},collapsible:u=!1,...g}=n,[p,t]=le({prop:o,defaultProp:l??"",onChange:d,caller:M});return e.jsx(Ue,{scope:n.__scopeAccordion,value:y.useMemo(()=>p?[p]:[],[p]),onItemOpen:t,onItemClose:y.useCallback(()=>u&&t(""),[u,t]),children:e.jsx(Fe,{scope:n.__scopeAccordion,collapsible:u,children:e.jsx(He,{...g,ref:a})})})}),vr=y.forwardRef((n,a)=>{const{value:o,defaultValue:l,onValueChange:d=()=>{},...u}=n,[g,p]=le({prop:o,defaultProp:l??[],onChange:d,caller:M}),t=y.useCallback(r=>p((i=[])=>[...i,r]),[p]),s=y.useCallback(r=>p((i=[])=>i.filter(c=>c!==r)),[p]);return e.jsx(Ue,{scope:n.__scopeAccordion,value:g,onItemOpen:t,onItemClose:s,children:e.jsx(Fe,{scope:n.__scopeAccordion,collapsible:!0,children:e.jsx(He,{...u,ref:a})})})}),[br,X]=G(M),He=y.forwardRef((n,a)=>{const{__scopeAccordion:o,disabled:l,dir:d,orientation:u="vertical",...g}=n,p=y.useRef(null),t=Pe(p,a),s=pr(o),i=wt(d)==="ltr",c=Ie(n.onKeyDown,h=>{if(!mr.includes(h.key))return;const m=h.target,x=s().filter(P=>!P.ref.current?.disabled),f=x.findIndex(P=>P.ref.current===m),w=x.length;if(f===-1)return;h.preventDefault();let b=f;const v=0,C=w-1,E=()=>{b=f+1,b>C&&(b=v)},S=()=>{b=f-1,b<v&&(b=C)};switch(h.key){case"Home":b=v;break;case"End":b=C;break;case"ArrowRight":u==="horizontal"&&(i?E():S());break;case"ArrowDown":u==="vertical"&&E();break;case"ArrowLeft":u==="horizontal"&&(i?S():E());break;case"ArrowUp":u==="vertical"&&S();break}const $=b%w;x[$].ref.current?.focus()});return e.jsx(br,{scope:o,disabled:l,direction:d,orientation:u,children:e.jsx(me.Slot,{scope:o,children:e.jsx(D.div,{...g,"data-orientation":u,ref:t,onKeyDown:l?void 0:c})})})}),U="AccordionItem",[Nr,he]=G(U),Qe=y.forwardRef((n,a)=>{const{__scopeAccordion:o,value:l,...d}=n,u=X(U,o),g=fr(U,o),p=pe(o),t=Se(),s=l&&g.value.includes(l)||!1,r=u.disabled||n.disabled;return e.jsx(Nr,{scope:o,open:s,disabled:r,triggerId:t,children:e.jsx(cr,{"data-orientation":u.orientation,"data-state":We(s),...p,...d,ref:a,disabled:r,open:s,onOpenChange:i=>{i?g.onItemOpen(l):g.onItemClose(l)}})})});Qe.displayName=U;var Ve="AccordionHeader",Ge=y.forwardRef((n,a)=>{const{__scopeAccordion:o,...l}=n,d=X(M,o),u=he(Ve,o);return e.jsx(D.h3,{"data-orientation":d.orientation,"data-state":We(u.open),"data-disabled":u.disabled?"":void 0,...l,ref:a})});Ge.displayName=Ve;var J="AccordionTrigger",Xe=y.forwardRef((n,a)=>{const{__scopeAccordion:o,...l}=n,d=X(M,o),u=he(J,o),g=gr(J,o),p=pe(o);return e.jsx(me.ItemSlot,{scope:o,children:e.jsx(dr,{"aria-disabled":u.open&&!g.collapsible||void 0,"data-orientation":d.orientation,id:u.triggerId,...p,...l,ref:a})})});Xe.displayName=J;var Ye="AccordionContent",Ke=y.forwardRef((n,a)=>{const{__scopeAccordion:o,...l}=n,d=X(M,o),u=he(Ye,o),g=pe(o);return e.jsx(ur,{role:"region","aria-labelledby":u.triggerId,"data-orientation":d.orientation,...g,...l,ref:a,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...n.style}})});Ke.displayName=Ye;function We(n){return n?"open":"closed"}var yr=Be,Cr=Qe,jr=Ge,wr=Xe,Ar=Ke,fe="Progress",ge=100,[Er,Bs]=ie(fe),[Rr,Mr]=Er(fe),Ze=A.forwardRef((n,a)=>{const{__scopeProgress:o,value:l=null,max:d,getValueLabel:u=Pr,...g}=n;(d||d===0)&&!Ae(d)&&console.error(Ir(`${d}`,"Progress"));const p=Ae(d)?d:ge;l!==null&&!Ee(l,p)&&console.error(Sr(`${l}`,"Progress"));const t=Ee(l,p)?l:null,s=F(t)?u(t,p):void 0;return e.jsx(Rr,{scope:o,value:t,max:p,children:e.jsx(D.div,{"aria-valuemax":p,"aria-valuemin":0,"aria-valuenow":F(t)?t:void 0,"aria-valuetext":s,role:"progressbar","data-state":et(t,p),"data-value":t??void 0,"data-max":p,...g,ref:a})})});Ze.displayName=fe;var qe="ProgressIndicator",Je=A.forwardRef((n,a)=>{const{__scopeProgress:o,...l}=n,d=Mr(qe,o);return e.jsx(D.div,{"data-state":et(d.value,d.max),"data-value":d.value??void 0,"data-max":d.max,...l,ref:a})});Je.displayName=qe;function Pr(n,a){return`${Math.round(n/a*100)}%`}function et(n,a){return n==null?"indeterminate":n===a?"complete":"loading"}function F(n){return typeof n=="number"}function Ae(n){return F(n)&&!isNaN(n)&&n>0}function Ee(n,a){return F(n)&&!isNaN(n)&&n<=a&&n>=0}function Ir(n,a){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${a}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ge}\`.`}function Sr(n,a){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${a}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ge} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var kr=Ze,_r=Je;function Dr({...n}){return e.jsx(yr,{"data-slot":"accordion",...n})}function Lr({className:n,...a}){return e.jsx(Cr,{"data-slot":"accordion-item",className:Q("border-b last:border-b-0",n),...a})}function Tr({className:n,children:a,...o}){return e.jsx(jr,{className:"flex",children:e.jsxs(wr,{"data-slot":"accordion-trigger",className:Q("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",n),...o,children:[a,e.jsx(At,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function Or({className:n,children:a,...o}){return e.jsx(Ar,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...o,children:e.jsx("div",{className:Q("pt-0 pb-4",n),children:a})})}var $r=Object.defineProperty,H=Object.getOwnPropertySymbols,tt=Object.prototype.hasOwnProperty,rt=Object.prototype.propertyIsEnumerable,Re=(n,a,o)=>a in n?$r(n,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[a]=o,ee=(n,a)=>{for(var o in a||(a={}))tt.call(a,o)&&Re(n,o,a[o]);if(H)for(var o of H(a))rt.call(a,o)&&Re(n,o,a[o]);return n},te=(n,a)=>{var o={};for(var l in n)tt.call(n,l)&&a.indexOf(l)<0&&(o[l]=n[l]);if(n!=null&&H)for(var l of H(n))a.indexOf(l)<0&&rt.call(n,l)&&(o[l]=n[l]);return o};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var _;(n=>{const a=class N{constructor(t,s,r,i){if(this.version=t,this.errorCorrectionLevel=s,this.modules=[],this.isFunction=[],t<N.MIN_VERSION||t>N.MAX_VERSION)throw new RangeError("Version value out of range");if(i<-1||i>7)throw new RangeError("Mask value out of range");this.size=t*4+17;let c=[];for(let m=0;m<this.size;m++)c.push(!1);for(let m=0;m<this.size;m++)this.modules.push(c.slice()),this.isFunction.push(c.slice());this.drawFunctionPatterns();const h=this.addEccAndInterleave(r);if(this.drawCodewords(h),i==-1){let m=1e9;for(let x=0;x<8;x++){this.applyMask(x),this.drawFormatBits(x);const f=this.getPenaltyScore();f<m&&(i=x,m=f),this.applyMask(x)}}d(0<=i&&i<=7),this.mask=i,this.applyMask(i),this.drawFormatBits(i),this.isFunction=[]}static encodeText(t,s){const r=n.QrSegment.makeSegments(t);return N.encodeSegments(r,s)}static encodeBinary(t,s){const r=n.QrSegment.makeBytes(t);return N.encodeSegments([r],s)}static encodeSegments(t,s,r=1,i=40,c=-1,h=!0){if(!(N.MIN_VERSION<=r&&r<=i&&i<=N.MAX_VERSION)||c<-1||c>7)throw new RangeError("Invalid value");let m,x;for(m=r;;m++){const v=N.getNumDataCodewords(m,s)*8,C=g.getTotalBits(t,m);if(C<=v){x=C;break}if(m>=i)throw new RangeError("Data too long")}for(const v of[N.Ecc.MEDIUM,N.Ecc.QUARTILE,N.Ecc.HIGH])h&&x<=N.getNumDataCodewords(m,v)*8&&(s=v);let f=[];for(const v of t){o(v.mode.modeBits,4,f),o(v.numChars,v.mode.numCharCountBits(m),f);for(const C of v.getData())f.push(C)}d(f.length==x);const w=N.getNumDataCodewords(m,s)*8;d(f.length<=w),o(0,Math.min(4,w-f.length),f),o(0,(8-f.length%8)%8,f),d(f.length%8==0);for(let v=236;f.length<w;v^=253)o(v,8,f);let b=[];for(;b.length*8<f.length;)b.push(0);return f.forEach((v,C)=>b[C>>>3]|=v<<7-(C&7)),new N(m,s,b,c)}getModule(t,s){return 0<=t&&t<this.size&&0<=s&&s<this.size&&this.modules[s][t]}getModules(){return this.modules}drawFunctionPatterns(){for(let r=0;r<this.size;r++)this.setFunctionModule(6,r,r%2==0),this.setFunctionModule(r,6,r%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const t=this.getAlignmentPatternPositions(),s=t.length;for(let r=0;r<s;r++)for(let i=0;i<s;i++)r==0&&i==0||r==0&&i==s-1||r==s-1&&i==0||this.drawAlignmentPattern(t[r],t[i]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(t){const s=this.errorCorrectionLevel.formatBits<<3|t;let r=s;for(let c=0;c<10;c++)r=r<<1^(r>>>9)*1335;const i=(s<<10|r)^21522;d(i>>>15==0);for(let c=0;c<=5;c++)this.setFunctionModule(8,c,l(i,c));this.setFunctionModule(8,7,l(i,6)),this.setFunctionModule(8,8,l(i,7)),this.setFunctionModule(7,8,l(i,8));for(let c=9;c<15;c++)this.setFunctionModule(14-c,8,l(i,c));for(let c=0;c<8;c++)this.setFunctionModule(this.size-1-c,8,l(i,c));for(let c=8;c<15;c++)this.setFunctionModule(8,this.size-15+c,l(i,c));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let t=this.version;for(let r=0;r<12;r++)t=t<<1^(t>>>11)*7973;const s=this.version<<12|t;d(s>>>18==0);for(let r=0;r<18;r++){const i=l(s,r),c=this.size-11+r%3,h=Math.floor(r/3);this.setFunctionModule(c,h,i),this.setFunctionModule(h,c,i)}}drawFinderPattern(t,s){for(let r=-4;r<=4;r++)for(let i=-4;i<=4;i++){const c=Math.max(Math.abs(i),Math.abs(r)),h=t+i,m=s+r;0<=h&&h<this.size&&0<=m&&m<this.size&&this.setFunctionModule(h,m,c!=2&&c!=4)}}drawAlignmentPattern(t,s){for(let r=-2;r<=2;r++)for(let i=-2;i<=2;i++)this.setFunctionModule(t+i,s+r,Math.max(Math.abs(i),Math.abs(r))!=1)}setFunctionModule(t,s,r){this.modules[s][t]=r,this.isFunction[s][t]=!0}addEccAndInterleave(t){const s=this.version,r=this.errorCorrectionLevel;if(t.length!=N.getNumDataCodewords(s,r))throw new RangeError("Invalid argument");const i=N.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][s],c=N.ECC_CODEWORDS_PER_BLOCK[r.ordinal][s],h=Math.floor(N.getNumRawDataModules(s)/8),m=i-h%i,x=Math.floor(h/i);let f=[];const w=N.reedSolomonComputeDivisor(c);for(let v=0,C=0;v<i;v++){let E=t.slice(C,C+x-c+(v<m?0:1));C+=E.length;const S=N.reedSolomonComputeRemainder(E,w);v<m&&E.push(0),f.push(E.concat(S))}let b=[];for(let v=0;v<f[0].length;v++)f.forEach((C,E)=>{(v!=x-c||E>=m)&&b.push(C[v])});return d(b.length==h),b}drawCodewords(t){if(t.length!=Math.floor(N.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let s=0;for(let r=this.size-1;r>=1;r-=2){r==6&&(r=5);for(let i=0;i<this.size;i++)for(let c=0;c<2;c++){const h=r-c,x=(r+1&2)==0?this.size-1-i:i;!this.isFunction[x][h]&&s<t.length*8&&(this.modules[x][h]=l(t[s>>>3],7-(s&7)),s++)}}d(s==t.length*8)}applyMask(t){if(t<0||t>7)throw new RangeError("Mask value out of range");for(let s=0;s<this.size;s++)for(let r=0;r<this.size;r++){let i;switch(t){case 0:i=(r+s)%2==0;break;case 1:i=s%2==0;break;case 2:i=r%3==0;break;case 3:i=(r+s)%3==0;break;case 4:i=(Math.floor(r/3)+Math.floor(s/2))%2==0;break;case 5:i=r*s%2+r*s%3==0;break;case 6:i=(r*s%2+r*s%3)%2==0;break;case 7:i=((r+s)%2+r*s%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[s][r]&&i&&(this.modules[s][r]=!this.modules[s][r])}}getPenaltyScore(){let t=0;for(let c=0;c<this.size;c++){let h=!1,m=0,x=[0,0,0,0,0,0,0];for(let f=0;f<this.size;f++)this.modules[c][f]==h?(m++,m==5?t+=N.PENALTY_N1:m>5&&t++):(this.finderPenaltyAddHistory(m,x),h||(t+=this.finderPenaltyCountPatterns(x)*N.PENALTY_N3),h=this.modules[c][f],m=1);t+=this.finderPenaltyTerminateAndCount(h,m,x)*N.PENALTY_N3}for(let c=0;c<this.size;c++){let h=!1,m=0,x=[0,0,0,0,0,0,0];for(let f=0;f<this.size;f++)this.modules[f][c]==h?(m++,m==5?t+=N.PENALTY_N1:m>5&&t++):(this.finderPenaltyAddHistory(m,x),h||(t+=this.finderPenaltyCountPatterns(x)*N.PENALTY_N3),h=this.modules[f][c],m=1);t+=this.finderPenaltyTerminateAndCount(h,m,x)*N.PENALTY_N3}for(let c=0;c<this.size-1;c++)for(let h=0;h<this.size-1;h++){const m=this.modules[c][h];m==this.modules[c][h+1]&&m==this.modules[c+1][h]&&m==this.modules[c+1][h+1]&&(t+=N.PENALTY_N2)}let s=0;for(const c of this.modules)s=c.reduce((h,m)=>h+(m?1:0),s);const r=this.size*this.size,i=Math.ceil(Math.abs(s*20-r*10)/r)-1;return d(0<=i&&i<=9),t+=i*N.PENALTY_N4,d(0<=t&&t<=2568888),t}getAlignmentPatternPositions(){if(this.version==1)return[];{const t=Math.floor(this.version/7)+2,s=this.version==32?26:Math.ceil((this.version*4+4)/(t*2-2))*2;let r=[6];for(let i=this.size-7;r.length<t;i-=s)r.splice(1,0,i);return r}}static getNumRawDataModules(t){if(t<N.MIN_VERSION||t>N.MAX_VERSION)throw new RangeError("Version number out of range");let s=(16*t+128)*t+64;if(t>=2){const r=Math.floor(t/7)+2;s-=(25*r-10)*r-55,t>=7&&(s-=36)}return d(208<=s&&s<=29648),s}static getNumDataCodewords(t,s){return Math.floor(N.getNumRawDataModules(t)/8)-N.ECC_CODEWORDS_PER_BLOCK[s.ordinal][t]*N.NUM_ERROR_CORRECTION_BLOCKS[s.ordinal][t]}static reedSolomonComputeDivisor(t){if(t<1||t>255)throw new RangeError("Degree out of range");let s=[];for(let i=0;i<t-1;i++)s.push(0);s.push(1);let r=1;for(let i=0;i<t;i++){for(let c=0;c<s.length;c++)s[c]=N.reedSolomonMultiply(s[c],r),c+1<s.length&&(s[c]^=s[c+1]);r=N.reedSolomonMultiply(r,2)}return s}static reedSolomonComputeRemainder(t,s){let r=s.map(i=>0);for(const i of t){const c=i^r.shift();r.push(0),s.forEach((h,m)=>r[m]^=N.reedSolomonMultiply(h,c))}return r}static reedSolomonMultiply(t,s){if(t>>>8||s>>>8)throw new RangeError("Byte out of range");let r=0;for(let i=7;i>=0;i--)r=r<<1^(r>>>7)*285,r^=(s>>>i&1)*t;return d(r>>>8==0),r}finderPenaltyCountPatterns(t){const s=t[1];d(s<=this.size*3);const r=s>0&&t[2]==s&&t[3]==s*3&&t[4]==s&&t[5]==s;return(r&&t[0]>=s*4&&t[6]>=s?1:0)+(r&&t[6]>=s*4&&t[0]>=s?1:0)}finderPenaltyTerminateAndCount(t,s,r){return t&&(this.finderPenaltyAddHistory(s,r),s=0),s+=this.size,this.finderPenaltyAddHistory(s,r),this.finderPenaltyCountPatterns(r)}finderPenaltyAddHistory(t,s){s[0]==0&&(t+=this.size),s.pop(),s.unshift(t)}};a.MIN_VERSION=1,a.MAX_VERSION=40,a.PENALTY_N1=3,a.PENALTY_N2=3,a.PENALTY_N3=40,a.PENALTY_N4=10,a.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],a.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],n.QrCode=a;function o(p,t,s){if(t<0||t>31||p>>>t)throw new RangeError("Value out of range");for(let r=t-1;r>=0;r--)s.push(p>>>r&1)}function l(p,t){return(p>>>t&1)!=0}function d(p){if(!p)throw new Error("Assertion error")}const u=class j{constructor(t,s,r){if(this.mode=t,this.numChars=s,this.bitData=r,s<0)throw new RangeError("Invalid argument");this.bitData=r.slice()}static makeBytes(t){let s=[];for(const r of t)o(r,8,s);return new j(j.Mode.BYTE,t.length,s)}static makeNumeric(t){if(!j.isNumeric(t))throw new RangeError("String contains non-numeric characters");let s=[];for(let r=0;r<t.length;){const i=Math.min(t.length-r,3);o(parseInt(t.substring(r,r+i),10),i*3+1,s),r+=i}return new j(j.Mode.NUMERIC,t.length,s)}static makeAlphanumeric(t){if(!j.isAlphanumeric(t))throw new RangeError("String contains unencodable characters in alphanumeric mode");let s=[],r;for(r=0;r+2<=t.length;r+=2){let i=j.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r))*45;i+=j.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r+1)),o(i,11,s)}return r<t.length&&o(j.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r)),6,s),new j(j.Mode.ALPHANUMERIC,t.length,s)}static makeSegments(t){return t==""?[]:j.isNumeric(t)?[j.makeNumeric(t)]:j.isAlphanumeric(t)?[j.makeAlphanumeric(t)]:[j.makeBytes(j.toUtf8ByteArray(t))]}static makeEci(t){let s=[];if(t<0)throw new RangeError("ECI assignment value out of range");if(t<128)o(t,8,s);else if(t<16384)o(2,2,s),o(t,14,s);else if(t<1e6)o(6,3,s),o(t,21,s);else throw new RangeError("ECI assignment value out of range");return new j(j.Mode.ECI,0,s)}static isNumeric(t){return j.NUMERIC_REGEX.test(t)}static isAlphanumeric(t){return j.ALPHANUMERIC_REGEX.test(t)}getData(){return this.bitData.slice()}static getTotalBits(t,s){let r=0;for(const i of t){const c=i.mode.numCharCountBits(s);if(i.numChars>=1<<c)return 1/0;r+=4+c+i.bitData.length}return r}static toUtf8ByteArray(t){t=encodeURI(t);let s=[];for(let r=0;r<t.length;r++)t.charAt(r)!="%"?s.push(t.charCodeAt(r)):(s.push(parseInt(t.substring(r+1,r+3),16)),r+=2);return s}};u.NUMERIC_REGEX=/^[0-9]*$/,u.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,u.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let g=u;n.QrSegment=u})(_||(_={}));(n=>{(a=>{const o=class{constructor(d,u){this.ordinal=d,this.formatBits=u}};o.LOW=new o(0,1),o.MEDIUM=new o(1,0),o.QUARTILE=new o(2,3),o.HIGH=new o(3,2),a.Ecc=o})(n.QrCode||(n.QrCode={}))})(_||(_={}));(n=>{(a=>{const o=class{constructor(d,u){this.modeBits=d,this.numBitsCharCount=u}numCharCountBits(d){return this.numBitsCharCount[Math.floor((d+7)/17)]}};o.NUMERIC=new o(1,[10,12,14]),o.ALPHANUMERIC=new o(2,[9,11,13]),o.BYTE=new o(4,[8,16,16]),o.KANJI=new o(8,[8,10,12]),o.ECI=new o(7,[0,0,0]),a.Mode=o})(n.QrSegment||(n.QrSegment={}))})(_||(_={}));var L=_;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var zr={L:L.QrCode.Ecc.LOW,M:L.QrCode.Ecc.MEDIUM,Q:L.QrCode.Ecc.QUARTILE,H:L.QrCode.Ecc.HIGH},st=128,at="L",ot="#FFFFFF",nt="#000000",it=!1,lt=1,Br=4,Ur=0,Fr=.1;function ct(n,a=0){const o=[];return n.forEach(function(l,d){let u=null;l.forEach(function(g,p){if(!g&&u!==null){o.push(`M${u+a} ${d+a}h${p-u}v1H${u+a}z`),u=null;return}if(p===l.length-1){if(!g)return;u===null?o.push(`M${p+a},${d+a} h1v1H${p+a}z`):o.push(`M${u+a},${d+a} h${p+1-u}v1H${u+a}z`);return}g&&u===null&&(u=p)})}),o.join("")}function dt(n,a){return n.slice().map((o,l)=>l<a.y||l>=a.y+a.h?o:o.map((d,u)=>u<a.x||u>=a.x+a.w?d:!1))}function Hr(n,a,o,l){if(l==null)return null;const d=n.length+o*2,u=Math.floor(a*Fr),g=d/a,p=(l.width||u)*g,t=(l.height||u)*g,s=l.x==null?n.length/2-p/2:l.x*g,r=l.y==null?n.length/2-t/2:l.y*g,i=l.opacity==null?1:l.opacity;let c=null;if(l.excavate){let m=Math.floor(s),x=Math.floor(r),f=Math.ceil(p+s-m),w=Math.ceil(t+r-x);c={x:m,y:x,w:f,h:w}}const h=l.crossOrigin;return{x:s,y:r,h:t,w:p,excavation:c,opacity:i,crossOrigin:h}}function Qr(n,a){return a!=null?Math.max(Math.floor(a),0):n?Br:Ur}function ut({value:n,level:a,minVersion:o,includeMargin:l,marginSize:d,imageSettings:u,size:g,boostLevel:p}){let t=y.useMemo(()=>{const m=(Array.isArray(n)?n:[n]).reduce((x,f)=>(x.push(...L.QrSegment.makeSegments(f)),x),[]);return L.QrCode.encodeSegments(m,zr[a],o,void 0,void 0,p)},[n,a,o,p]);const{cells:s,margin:r,numCells:i,calculatedImageSettings:c}=y.useMemo(()=>{let h=t.getModules();const m=Qr(l,d),x=h.length+m*2,f=Hr(h,g,m,u);return{cells:h,margin:m,numCells:x,calculatedImageSettings:f}},[t,g,u,l,d]);return{qrcode:t,margin:r,cells:s,numCells:i,calculatedImageSettings:c}}var Vr=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Gr=y.forwardRef(function(a,o){const l=a,{value:d,size:u=st,level:g=at,bgColor:p=ot,fgColor:t=nt,includeMargin:s=it,minVersion:r=lt,boostLevel:i,marginSize:c,imageSettings:h}=l,x=te(l,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:f}=x,w=te(x,["style"]),b=h?.src,v=y.useRef(null),C=y.useRef(null),E=y.useCallback(k=>{v.current=k,typeof o=="function"?o(k):o&&(o.current=k)},[o]),[S,$]=y.useState(!1),{margin:P,cells:Y,numCells:K,calculatedImageSettings:R}=ut({value:d,level:g,minVersion:r,boostLevel:i,includeMargin:s,marginSize:c,imageSettings:h,size:u});y.useEffect(()=>{if(v.current!=null){const k=v.current,I=k.getContext("2d");if(!I)return;let ve=Y;const T=C.current,be=R!=null&&T!==null&&T.complete&&T.naturalHeight!==0&&T.naturalWidth!==0;be&&R.excavation!=null&&(ve=dt(Y,R.excavation));const Ne=window.devicePixelRatio||1;k.height=k.width=u*Ne;const ye=u/K*Ne;I.scale(ye,ye),I.fillStyle=p,I.fillRect(0,0,K,K),I.fillStyle=t,Vr?I.fill(new Path2D(ct(ve,P))):Y.forEach(function(ht,ft){ht.forEach(function(gt,xt){gt&&I.fillRect(xt+P,ft+P,1,1)})}),R&&(I.globalAlpha=R.opacity),be&&I.drawImage(T,R.x+P,R.y+P,R.w,R.h)}}),y.useEffect(()=>{$(!1)},[b]);const pt=ee({height:u,width:u},f);let xe=null;return b!=null&&(xe=y.createElement("img",{src:b,key:b,style:{display:"none"},onLoad:()=>{$(!0)},ref:C,crossOrigin:R?.crossOrigin})),y.createElement(y.Fragment,null,y.createElement("canvas",ee({style:pt,height:u,width:u,ref:E,role:"img"},w)),xe)});Gr.displayName="QRCodeCanvas";var mt=y.forwardRef(function(a,o){const l=a,{value:d,size:u=st,level:g=at,bgColor:p=ot,fgColor:t=nt,includeMargin:s=it,minVersion:r=lt,boostLevel:i,title:c,marginSize:h,imageSettings:m}=l,x=te(l,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:f,cells:w,numCells:b,calculatedImageSettings:v}=ut({value:d,level:g,minVersion:r,boostLevel:i,includeMargin:s,marginSize:h,imageSettings:m,size:u});let C=w,E=null;m!=null&&v!=null&&(v.excavation!=null&&(C=dt(w,v.excavation)),E=y.createElement("image",{href:m.src,height:v.h,width:v.w,x:v.x+f,y:v.y+f,preserveAspectRatio:"none",opacity:v.opacity,crossOrigin:v.crossOrigin}));const S=ct(C,f);return y.createElement("svg",ee({height:u,width:u,viewBox:`0 0 ${b} ${b}`,ref:o,role:"img"},x),!!c&&y.createElement("title",null,c),y.createElement("path",{fill:p,d:`M0,0 h${b}v${b}H0z`,shapeRendering:"crispEdges"}),y.createElement("path",{fill:t,d:S,shapeRendering:"crispEdges"}),E)});mt.displayName="QRCodeSVG";function Xr({className:n,value:a,...o}){return e.jsx(kr,{"data-slot":"progress",className:Q("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",n),...o,children:e.jsx(_r,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}})})}const Yr=(n,a)=>{const o=vt.title;switch(n){case"Clash":return`clash://install-config?url=${a}&name=${o}`;case"Hiddify":return`hiddify://import/${a}#${o}`;case"Loon":return`loon://import?sub=${encodeURIComponent(a)}`;case"NekoBox":return`sn://subscription?url=${a}&name=${o}`;case"NekoRay":return`sn://subscription?url=${a}&name=${o}`;case"Quantumult X":return`quantumult-x://add-resource?remote-resource=${encodeURIComponent(JSON.stringify({server_remote:[`${a}, tag=${o}`]}))}`;case"Shadowrocket":return`shadowrocket://add/sub://${window.btoa(a)}?remark=${encodeURIComponent(o)}`;case"Singbox":return`sing-box://import-remote-profile?url=${encodeURIComponent(a)}#${o}`;case"Surfboard":return`surfboard:///install-config?url=${encodeURIComponent(a)}`;case"Surge":return`surge:///install-config?url=${encodeURIComponent(a)}`;case"V2box":return`v2box://install-sub?url=${encodeURIComponent(a)}&name=${o}`;case"V2rayNg":return`v2rayng://install-sub?url=${encodeURIComponent(a)}#${o}`;case"Stash":return`stash://install-config?url=${encodeURIComponent(a)}&name=${o}`;default:return""}};function Kr(){const n=O.useLoaderData(),[a,o]=n.stat,l=A.useMemo(()=>{const d=[];return a>0&&d.push({icon:Xt,title:"待付订单提醒",description:`您有 ${a} 个待付款订单，请及时完成支付`,link:"/order",linkText:"查看订单",variant:"destructive",borderColor:"border-l-red-500"}),o>0&&d.push({icon:Yt,title:"待办工单提醒",description:`您有 ${o} 个待处理工单，请及时查看和回复`,link:"/ticket",linkText:"查看工单",variant:"default",borderColor:"border-l-blue-500"}),d},[a,o]);return l.length===0?null:e.jsx("div",{className:"space-y-3",children:l.map((d,u)=>{const g=d.icon;return e.jsxs(zt,{variant:d.variant,className:`border-l-4 ${d.borderColor} rounded-md`,children:[e.jsx(g,{className:"h-4 w-4"}),e.jsxs(Bt,{className:"flex items-center justify-between",children:[e.jsx("span",{children:d.title}),e.jsx(re,{to:d.link,children:e.jsxs(z,{variant:"outline",size:"sm",className:"h-7 px-3 text-xs cursor-pointer",children:[d.linkText,e.jsx(De,{className:"ml-1 h-3 w-3"})]})})]}),e.jsx(Ut,{children:d.description})]},u)})})}function Wr(){const n=O.useLoaderData(),{data:a}=q(Me,{initialData:n.subscribe,middleware:_e("getUserSubscribe"),force:({args:l})=>!!l[0]}),o=(a.u+a.d)/a.transfer_enable*100;return a.plan?e.jsxs(Z,{gradientPosition:"top",children:[e.jsxs(ae,{className:"pb-3",children:[e.jsxs(oe,{className:"flex items-center gap-2 text-lg font-bold",children:[e.jsx("div",{className:"p-1.5 rounded-lg bg-primary/10 text-primary",children:e.jsx(je,{className:"h-5 w-5"})}),"订阅信息"]}),e.jsx(ne,{className:"text-sm text-muted-foreground/80",children:"您的当前订阅状态和套餐详情"})]}),e.jsxs(B,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2 p-3 rounded-xl bg-card/50 border border-border/50 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-muted-foreground",children:[e.jsx("div",{className:"p-1 rounded-md bg-primary/10",children:e.jsx(Kt,{className:"h-3 w-3 text-primary"})}),"套餐名称"]}),e.jsx("p",{className:"text-base font-semibold text-foreground truncate",children:a.plan?.name||"未知套餐"})]}),e.jsxs("div",{className:"space-y-2 p-3 rounded-xl bg-card/50 border border-border/50 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-muted-foreground",children:[e.jsx("div",{className:"p-1 rounded-md bg-primary/10",children:e.jsx(Zt,{className:"h-3 w-3 text-primary"})}),"到期时间"]}),e.jsx("p",{className:"text-base font-semibold text-foreground",children:ke(a.expired_at)})]})]}),e.jsxs("div",{className:"space-y-3 p-4 rounded-xl bg-gradient-to-r from-card/60 to-card/40 border border-border/50 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 rounded-lg bg-primary/10",children:e.jsx(qt,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"流量使用情况"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"当前周期使用统计"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-foreground",children:W(a.u+a.d)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["/ ",W(a.transfer_enable)]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Xr,{value:o,className:"h-3 bg-secondary/50"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-primary"}),e.jsxs("span",{className:"text-sm font-medium text-foreground",children:["已使用 ",o.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-secondary"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["剩余"," ",W(a.transfer_enable-(a.u+a.d))]})]})]})]})]})]})]}):e.jsx(Z,{children:e.jsxs(B,{className:"flex flex-col items-center justify-center text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center",children:e.jsx(je,{className:"h-8 w-8 text-primary"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"暂无订阅信息"}),e.jsx("p",{className:"text-sm text-muted-foreground max-w-sm",children:"您还没有激活的订阅套餐，请前往套餐页面选择适合您的服务"})]}),e.jsx(re,{to:"/plan",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"relative group",children:e.jsxs("button",{className:"relative inline-block p-px font-semibold leading-6 text-primary-foreground bg-primary/80 shadow-2xl cursor-pointer rounded-xl shadow-zinc-900 transition-transform duration-300 ease-in-out hover:scale-105 active:scale-95",children:[e.jsx("span",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-teal-400 via-indigo-500 to-purple-500 p-[2px] opacity-0 transition-opacity duration-500 group-hover:opacity-100"}),e.jsx("span",{className:"relative z-10 block px-6 py-2 rounded-xl bg-primary",children:e.jsxs("div",{className:"relative z-10 flex items-center space-x-2",children:[e.jsx("span",{className:"transition-all duration-500 group-hover:translate-x-1",children:"立即订阅"}),e.jsx("svg",{className:"w-6 h-6 transition-transform duration-500 group-hover:translate-x-1","data-slot":"icon","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{clipRule:"evenodd",d:"M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z",fillRule:"evenodd"})})]})})]})})})})]})})}function Zr(){const[n,a]=Ht(),o=O.useLoaderData(),{data:l}=q(Me,{initialData:o.subscribe,middleware:_e("getUserSubscribe"),force:({args:p})=>!!p[0]}),{send:d,loading:u}=q(bt,{immediate:!1}).onSuccess(()=>{Ce.success("重置成功"),Ft("getUserSubscribe",p=>{p.send(!0)})});if(!l.plan_id)return null;const g=[{name:"Clash",displayName:"Clash Verge",icon:"https://fastly.jsdelivr.net/gh/perfect-panel/ppanel-assets/apps/Clash%20Verge.svg",tooltip:"导入到 Clash Verge"},{name:"NekoRay",displayName:"Nekoray",icon:"https://fastly.jsdelivr.net/gh/perfect-panel/ppanel-assets/apps/Nekoray.svg",tooltip:"导入到 Nekoray"},{name:"Quantumult X",displayName:"Quantumult X",icon:"https://fastly.jsdelivr.net/gh/perfect-panel/ppanel-assets/apps/Quantumult%20X.svg",tooltip:"导入到 Quantumult X"},{name:"Shadowrocket",displayName:"Shadowrocket",icon:"https://fastly.jsdelivr.net/gh/perfect-panel/ppanel-assets/apps/Shadowrocket.svg",tooltip:"导入到 Shadowrocket"},{name:"Singbox",displayName:"Sing Box",icon:"https://fastly.jsdelivr.net/gh/perfect-panel/ppanel-assets/apps/Sing%20Box.svg",tooltip:"导入到 Sing Box"},{name:"Surge",displayName:"Surge",icon:"https://fastly.jsdelivr.net/gh/perfect-panel/ppanel-assets/apps/Surge.svg",tooltip:"导入到 Surge"}];return e.jsxs(Z,{gradientPosition:"top",children:[e.jsx(ae,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs(oe,{className:"flex items-center gap-2 text-lg font-bold",children:[e.jsx("div",{className:"p-1.5 rounded-lg bg-primary/10 text-primary",children:e.jsx(we,{className:"h-5 w-5"})}),"订阅中心"]}),e.jsx(ne,{className:"text-sm text-muted-foreground/80",children:"快速导入第三方客户端"})]}),e.jsxs(It,{children:[e.jsx(St,{asChild:!0,children:e.jsx(z,{variant:"destructive",size:"sm",className:"h-8 px-3",disabled:u,children:"重置订阅"})}),e.jsxs(kt,{children:[e.jsxs(_t,{children:[e.jsx(Dt,{children:"确认重置订阅"}),e.jsx(Lt,{children:"重置订阅将会生成新的订阅链接，原有的订阅链接将失效。您需要重新配置所有客户端。此操作不可撤销，确定要继续吗？"})]}),e.jsxs(Tt,{children:[e.jsx(Ot,{children:"取消"}),e.jsx($t,{onClick:async()=>{d()},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",disabled:u,children:u?"重置中...":"确认重置"})]})]})]})]})}),e.jsx(B,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-muted-foreground",children:[e.jsx("div",{className:"p-1 rounded-md bg-primary/10",children:e.jsx(we,{className:"h-3 w-3 text-primary"})}),"订阅链接"]}),e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-card/50 border border-border/50 rounded-lg backdrop-blur-sm",children:[e.jsx("input",{type:"text",value:l.subscribe_url,readOnly:!0,className:"flex-1 bg-transparent text-xs text-foreground outline-none"}),e.jsx(z,{size:"sm",variant:"ghost",onClick:async()=>{await a(l.subscribe_url),Ce.success("已复制订阅链接")},className:"h-6 w-6 p-0",children:e.jsx(Qt,{className:"h-3 w-3"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-muted-foreground",children:[e.jsx("div",{className:"p-1 rounded-md bg-primary/10",children:e.jsx(Jt,{className:"h-3 w-3 text-primary"})}),"快速导入到第三方客户端"]}),e.jsx(Et,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(p=>e.jsxs(Rt,{children:[e.jsx(Mt,{asChild:!0,children:e.jsx(z,{variant:"outline",size:"sm",className:"h-10 w-10 p-1.5 rounded-xl",onClick:()=>{const t=Yr(p.name,l.subscribe_url);t&&window.open(t,"_self")},children:e.jsx("img",{src:p.icon,alt:p.displayName,className:"w-6 h-6"})})}),e.jsx(Pt,{children:e.jsx("p",{children:p.tooltip})})]},p.name))})})]})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx(mt,{value:l.subscribe_url,size:80,bgColor:"transparent",fgColor:"currentColor",level:"H",imageSettings:{src:"/logo.svg",height:16,width:16,excavate:!0}}),e.jsx("p",{className:"text-xs font-medium text-muted-foreground text-center",children:"扫描二维码导入订阅"}),e.jsx("p",{className:"text-xs font-medium text-muted-foreground text-center",children:"Shadowrocket / Clash 等客户端"})]})})]})})]})}function qr(){const{notices:n}=O.useLoaderData(),a=A.useMemo(()=>n?.filter(l=>l.show).sort((l,d)=>(l.sort||0)-(d.sort||0)).slice(0,5)||[],[n]),o=A.useMemo(()=>a[0]?`notice-${a[0].id}`:void 0,[a]);return e.jsxs(Nt,{children:[e.jsxs(ae,{className:"pb-3",children:[e.jsxs(oe,{className:"flex items-center gap-2 text-lg font-bold",children:[e.jsx("div",{className:"p-1.5 rounded-lg bg-primary/10 text-primary",children:e.jsx(rr,{className:"h-5 w-5"})}),"系统公告"]}),e.jsx(ne,{className:"text-sm text-muted-foreground/80",children:"重要通知和更新信息"})]}),e.jsx(B,{children:e.jsx(Gt,{className:"max-h-96 w-full",children:a.length>0?e.jsx(Dr,{type:"single",collapsible:!0,className:"w-full",defaultValue:o,children:a.map(l=>e.jsxs(Lr,{value:`notice-${l.id}`,children:[e.jsx(Tr,{className:"cursor-pointer",children:e.jsx("span",{className:"text-sm font-semibold text-foreground",children:l.title})}),e.jsx(Or,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground",children:e.jsx(Vt,{content:l.content,style:{backgroundColor:"transparent",color:"inherit",fontSize:"12px",lineHeight:"1.5"},className:"!bg-transparent !text-inherit"})}),e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("span",{className:"text-xs text-muted-foreground",children:ke(l.created_at)})})]})})]},l.id))}):e.jsx("div",{className:"text-center py-6",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"暂无公告"})})})})]})}const Jr=()=>{const{inviteList:n}=O.useLoaderData();return e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-primary/10 via-primary/30 to-primary p-3 lg:p-4 rounded-xl",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-1 left-1 w-12 h-12 bg-white rounded-full blur-xl"}),e.jsx("div",{className:"absolute bottom-2 left-6 w-8 h-8 bg-white rounded-full blur-lg"}),e.jsx("div",{className:"absolute top-4 right-8 w-6 h-6 bg-white rounded-full blur-md"})]}),e.jsxs("div",{className:"relative z-10 flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 space-y-3 order-1",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-primary/10 via-primary/15 to-primary/10 backdrop-blur-sm border border-primary/20 rounded-full px-2.5 py-1 shadow-sm hover:shadow-md transition-all duration-300 group",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Wt,{className:"w-3.5 h-3.5 text-primary transition-transform duration-300 group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-primary/20 rounded-full blur-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300 -z-10"})]}),e.jsx("span",{className:"text-xs font-semibold text-primary uppercase tracking-wider",children:"推荐计划"}),e.jsx("div",{className:"w-1 h-1 bg-primary/60 rounded-full animate-pulse"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("h2",{className:"text-xl lg:text-2xl font-bold bg-gradient-to-r from-primary via-primary/90 to-primary bg-clip-text text-transparent leading-tight mb-1",children:"邀请好友 赚取佣金"}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"h-0.5 w-8 bg-gradient-to-r from-primary to-primary/50 rounded-full"}),e.jsx(or,{className:"w-3 h-3 text-primary animate-pulse"}),e.jsx("div",{className:"h-0.5 w-6 bg-gradient-to-r from-primary/50 to-transparent rounded-full"})]})]})]}),e.jsx("div",{className:"inline-flex items-center",children:e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"relative bg-gradient-to-br from-primary/5 via-primary/10 to-primary/20 backdrop-blur-sm rounded-xl p-0.5 shadow-lg border border-primary/20 hover:border-primary/40 transition-all duration-300",children:e.jsx("div",{className:"bg-gradient-to-br from-background/80 to-background/60 backdrop-blur-sm rounded-lg px-4 py-2 border border-border/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-baseline",children:[e.jsx("span",{className:"text-2xl font-black bg-gradient-to-br from-primary to-primary/70 bg-clip-text text-transparent",children:n.stat[3]}),e.jsx("span",{className:"text-sm font-bold text-primary/80 ml-0.5",children:"%"})]}),e.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-1.5 h-1.5 bg-primary/60 rounded-full animate-pulse"})]}),e.jsx("div",{className:"h-6 w-px bg-gradient-to-b from-transparent via-border to-transparent"}),e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"text-sm font-semibold text-foreground",children:"佣金比例"})})]})})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 to-primary/5 rounded-xl blur-lg opacity-50 -z-10 group-hover:opacity-70 transition-opacity duration-300"}),e.jsx("div",{className:"absolute -top-1 -left-1 w-0.5 h-0.5 bg-primary/40 rounded-full animate-bounce delay-100"}),e.jsx("div",{className:"absolute -bottom-0.5 -right-2 w-1 h-1 bg-primary/30 rounded-full animate-bounce delay-300"})]})}),e.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed max-w-sm",children:"立刻赚取佣金，可提现或消费"}),e.jsx(re,{to:"/invite",children:e.jsxs("button",{className:"relative group overflow-hidden rounded-lg bg-gradient-to-r from-primary via-primary/90 to-primary border border-primary/20 px-3 py-2 font-semibold text-primary-foreground shadow-lg transition-all duration-300 hover:shadow-primary/25 hover:scale-105 active:scale-95",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/80 via-primary to-primary/80 opacity-0 transition-opacity duration-300 group-hover:opacity-100"}),e.jsx("div",{className:"absolute inset-0 -translate-x-full bg-gradient-to-r from-transparent via-white/20 to-transparent transition-transform duration-700 group-hover:translate-x-full"}),e.jsxs("div",{className:"relative flex items-center justify-center gap-2",children:[e.jsx(er,{className:"w-4 h-4 transition-transform duration-300 group-hover:rotate-12"}),e.jsx("span",{className:"text-sm font-bold tracking-wide",children:"立即邀请"}),e.jsx(De,{className:"w-4 h-4 transition-all duration-300 group-hover:translate-x-1 group-hover:scale-110"})]}),e.jsx("div",{className:"absolute inset-0 rounded-lg bg-primary/20 blur-lg opacity-0 transition-opacity duration-300 group-hover:opacity-100 -z-10"})]})})]}),e.jsx("div",{className:"relative flex-shrink-0 order-2",children:e.jsxs("div",{className:"relative w-32 h-32 lg:w-36 lg:h-36",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/20 to-primary/40 rounded-xl rotate-6 opacity-20"}),e.jsx("div",{className:"relative z-10 w-full h-full",children:e.jsx("img",{className:"w-full h-full object-contain drop-shadow-xl hover:scale-105 transition-transform duration-300",src:"https://fastly.jsdelivr.net/gh/dc8683/picx-images-hosting/rocket/3d-element-cash.26lnk20fhk.webp",alt:"邀请奖励"})}),e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-accent rounded-full animate-bounce delay-100"}),e.jsx("div",{className:"absolute -bottom-1 -left-1 w-2.5 h-2.5 bg-primary/60 rounded-full animate-bounce delay-300"})]})})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-primary via-primary/80 to-primary/60"})]})},Hs=function(){return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(Kr,{}),e.jsx(Wr,{}),e.jsx(Zr,{}),e.jsx(Jr,{})]}),e.jsx("div",{className:"space-y-6",children:e.jsx(qr,{})})]})})};export{Hs as component};
