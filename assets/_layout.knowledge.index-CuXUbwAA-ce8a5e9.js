import{P as h,j as s,L as j}from"./index-C-lWNyDS-ce8a5e9.js";import{C as c,a as o,d as n,b as f,c as g}from"./card-DAFhzehQ-ce8a5e9.js";import{B as m}from"./badge-DCJixl5s-ce8a5e9.js";import{S as r}from"./skeleton-Dxcnh-6g-ce8a5e9.js";import{c as N}from"./utils-BZlnr8Ta-ce8a5e9.js";import{c as u,k as y}from"./formatters-C-QcNEdo-ce8a5e9.js";import{P as v,E as b}from"./page-header-CmkN8_uh-ce8a5e9.js";import{u as w}from"./index.esm-BMmO4LKm-ce8a5e9.js";import{B as d}from"./book-open-D_XwDqo9-ce8a5e9.js";import"./button-BsXSSnm1-ce8a5e9.js";import"./package-BxCfkctX-ce8a5e9.js";import"./circle-check-big-71yNjzts-ce8a5e9.js";const q=function(){const{data:t,loading:x}=w(h),i=Object.keys(t||{}),p=Object.values(t||{}).reduce((a,e)=>a+(Array.isArray(e)?e.length:0),0);return s.jsxs("div",{className:"container mx-auto space-y-6",children:[s.jsx(v,{title:"知识库",description:`共 ${i.length} 个分类，${p} 篇文章`,icon:d}),s.jsx("div",{className:"space-y-8",children:x?s.jsx("div",{className:"space-y-8",children:[1].map(a=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(r,{className:"h-6 w-20"}),s.jsx(r,{className:"h-4 w-16"})]}),s.jsx("div",{className:"grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:[1,2,3].map(e=>s.jsxs(c,{className:"h-full flex flex-col",children:[s.jsxs(o,{className:"pb-3 flex-shrink-0",children:[s.jsx(r,{className:"h-5 w-full mb-2"}),s.jsx(r,{className:"h-5 w-3/4"}),s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx(r,{className:"h-3 w-3 rounded-full"}),s.jsx(r,{className:"h-3 w-20"})]})]}),s.jsx(n,{className:"pt-0 flex-grow flex items-end",children:s.jsx(r,{className:"h-5 w-16"})})]},e))})]},a))}):i.length===0?s.jsx(b,{icon:d,title:"暂无文章",description:"知识库暂时为空，管理员还没有添加任何文章。请稍后再来查看。"}):i.map(a=>{const e=t?.[a]||[];return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(m,{variant:"secondary",className:"text-sm px-3 py-1",children:a}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[Array.isArray(e)?e.length:0," 篇文章"]})]}),s.jsx("div",{className:"grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:Array.isArray(e)&&e.map(l=>s.jsx(j,{to:"/knowledge/$id",params:{id:l.id.toString()},className:"block h-full",children:s.jsxs(c,{className:N("h-full flex flex-col cursor-pointer transition-all duration-200","hover:shadow-lg hover:scale-[1.02] hover:-translate-y-1","border-l-4 border-l-primary/20 hover:border-l-primary","bg-gradient-to-br from-background to-muted/20"),children:[s.jsxs(o,{className:"pb-3 flex-shrink-0",children:[s.jsx(f,{className:"text-base font-semibold line-clamp-2 min-h-[2.5rem] leading-tight",children:l.title}),s.jsxs(g,{className:"flex items-center space-x-2 text-xs",children:[s.jsx(u,{className:"h-3 w-3 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:y(l.updated_at)})]})]}),s.jsx(n,{className:"pt-0 flex-grow flex items-end",children:s.jsx(m,{variant:"outline",className:"text-xs px-2 py-1 truncate max-w-full",children:l.category})})]})},l.id))})]},a)})})]})};export{q as component};
