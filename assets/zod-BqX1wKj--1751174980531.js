import{n as w,r as ne,j as oe}from"./index-zp2nMl9D-1751174980531.js";import{c as Te,S as Ht}from"./utils-BIJI3SUY-1751174980531.js";import{L as Zt}from"./label-pehihN3l-1751174980531.js";var ge=e=>e.type==="checkbox",ie=e=>e instanceof Date,R=e=>e==null;const mt=e=>typeof e=="object";var P=e=>!R(e)&&!Array.isArray(e)&&mt(e)&&!ie(e),vt=e=>P(e)&&e.target?ge(e.target)?e.target.checked:e.target.value:e,Kt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,bt=(e,r)=>e.has(Kt(r)),Gt=e=>{const r=e.constructor&&e.constructor.prototype;return P(r)&&r.hasOwnProperty("isPrototypeOf")},Me=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function T(e){let r;const t=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(Me&&(e instanceof Blob||s))&&(t||P(e)))if(r=t?[]:{},!t&&!Gt(e))r=e;else for(const n in e)e.hasOwnProperty(n)&&(r[n]=T(e[n]));else return e;return r}var we=e=>/^\w*$/.test(e),p=e=>e===void 0,Re=e=>Array.isArray(e)?e.filter(Boolean):[],Ue=e=>Re(e.replace(/["|']|\]/g,"").split(/\.|\[/)),d=(e,r,t)=>{if(!r||!P(e))return t;const s=(we(r)?[r]:Ue(r)).reduce((n,o)=>R(n)?n:n[o],e);return p(s)||s===e?p(e[r])?t:e[r]:s},B=e=>typeof e=="boolean",A=(e,r,t)=>{let s=-1;const n=we(r)?[r]:Ue(r),o=n.length,u=o-1;for(;++s<o;){const c=n[s];let m=t;if(s!==u){const V=e[c];m=P(V)||Array.isArray(V)?V:isNaN(+n[s+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=m,e=e[c]}};const Ve={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},H={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Q={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ne=w.createContext(null);Ne.displayName="HookFormContext";const Ee=()=>w.useContext(Ne),Jt=e=>{const{children:r,...t}=e;return w.createElement(Ne.Provider,{value:t},r)};var _t=(e,r,t,s=!0)=>{const n={defaultValues:r._defaultValues};for(const o in e)Object.defineProperty(n,o,{get:()=>{const u=o;return r._proxyFormState[u]!==H.all&&(r._proxyFormState[u]=!s||H.all),t&&(t[u]=!0),e[u]}});return n};const je=typeof window<"u"?ne.useLayoutEffect:ne.useEffect;function Vt(e){const r=Ee(),{control:t=r.control,disabled:s,name:n,exact:o}=e||{},[u,c]=w.useState(t._formState),m=w.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return je(()=>t._subscribe({name:n,formState:m.current,exact:o,callback:V=>{!s&&c({...t._formState,...V})}}),[n,s,o]),w.useEffect(()=>{m.current.isValid&&t._setValid(!0)},[t]),w.useMemo(()=>_t(u,t,m.current,!1),[u,t])}var J=e=>typeof e=="string",Ft=(e,r,t,s,n)=>J(e)?(s&&r.watch.add(e),d(t,e,n)):Array.isArray(e)?e.map(o=>(s&&r.watch.add(o),d(t,o))):(s&&(r.watchAll=!0),t);function Yt(e){const r=Ee(),{control:t=r.control,name:s,defaultValue:n,disabled:o,exact:u}=e||{},c=w.useRef(n),[m,V]=w.useState(t._getWatch(s,c.current));return je(()=>t._subscribe({name:s,formState:{values:!0},exact:u,callback:v=>!o&&V(Ft(s,t._names,v.values||t._formValues,!1,c.current))}),[s,t,o,u]),w.useEffect(()=>t._removeUnmounted()),m}function Qt(e){const r=Ee(),{name:t,disabled:s,control:n=r.control,shouldUnregister:o}=e,u=bt(n._names.array,t),c=Yt({control:n,name:t,defaultValue:d(n._formValues,t,d(n._defaultValues,t,e.defaultValue)),exact:!0}),m=Vt({control:n,name:t,exact:!0}),V=w.useRef(e),v=w.useRef(n.register(t,{...e.rules,value:c,...B(e.disabled)?{disabled:e.disabled}:{}})),S=w.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!d(m.errors,t)},isDirty:{enumerable:!0,get:()=>!!d(m.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!d(m.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!d(m.validatingFields,t)},error:{enumerable:!0,get:()=>d(m.errors,t)}}),[m,t]),b=w.useCallback(C=>v.current.onChange({target:{value:vt(C),name:t},type:Ve.CHANGE}),[t]),X=w.useCallback(()=>v.current.onBlur({target:{value:d(n._formValues,t),name:t},type:Ve.BLUR}),[t,n._formValues]),$=w.useCallback(C=>{const Y=d(n._fields,t);Y&&C&&(Y._f.ref={focus:()=>C.focus&&C.focus(),select:()=>C.select&&C.select(),setCustomValidity:_=>C.setCustomValidity(_),reportValidity:()=>C.reportValidity()})},[n._fields,t]),k=w.useMemo(()=>({name:t,value:c,...B(s)||m.disabled?{disabled:m.disabled||s}:{},onChange:b,onBlur:X,ref:$}),[t,s,m.disabled,b,X,$,c]);return w.useEffect(()=>{const C=n._options.shouldUnregister||o;n.register(t,{...V.current.rules,...B(V.current.disabled)?{disabled:V.current.disabled}:{}});const Y=(_,W)=>{const U=d(n._fields,_);U&&U._f&&(U._f.mount=W)};if(Y(t,!0),C){const _=T(d(n._options.defaultValues,t));A(n._defaultValues,t,_),p(d(n._formValues,t))&&A(n._formValues,t,_)}return!u&&n.register(t),()=>{(u?C&&!n._state.action:C)?n.unregister(t):Y(t,!1)}},[t,n,u,o]),w.useEffect(()=>{n._setDisabledField({disabled:s,name:t})},[s,t,n]),w.useMemo(()=>({field:k,formState:m,fieldState:S}),[k,m,S])}const Xt=e=>e.render(Qt(e));var Be=(e,r,t,s,n)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[s]:n||!0}}:{},de=e=>Array.isArray(e)?e:[e],tt=()=>{let e=[];return{get observers(){return e},next:n=>{for(const o of e)o.next&&o.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(o=>o!==n)}}),unsubscribe:()=>{e=[]}}},Ie=e=>R(e)||!mt(e);function re(e,r,t=new WeakSet){if(Ie(e)||Ie(r))return e===r;if(ie(e)&&ie(r))return e.getTime()===r.getTime();const s=Object.keys(e),n=Object.keys(r);if(s.length!==n.length)return!1;if(t.has(e)||t.has(r))return!0;t.add(e),t.add(r);for(const o of s){const u=e[o];if(!n.includes(o))return!1;if(o!=="ref"){const c=r[o];if(ie(u)&&ie(c)||P(u)&&P(c)||Array.isArray(u)&&Array.isArray(c)?!re(u,c,t):u!==c)return!1}}return!0}var j=e=>P(e)&&!Object.keys(e).length,ze=e=>e.type==="file",Z=e=>typeof e=="function",Fe=e=>{if(!Me)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},xt=e=>e.type==="select-multiple",$e=e=>e.type==="radio",er=e=>$e(e)||ge(e),Pe=e=>Fe(e)&&e.isConnected;function tr(e,r){const t=r.slice(0,-1).length;let s=0;for(;s<t;)e=p(e)?s++:e[r[s++]];return e}function rr(e){for(const r in e)if(e.hasOwnProperty(r)&&!p(e[r]))return!1;return!0}function I(e,r){const t=Array.isArray(r)?r:we(r)?[r]:Ue(r),s=t.length===1?e:tr(e,t),n=t.length-1,o=t[n];return s&&delete s[o],n!==0&&(P(s)&&j(s)||Array.isArray(s)&&rr(s))&&I(e,t.slice(0,-1)),e}var At=e=>{for(const r in e)if(Z(e[r]))return!0;return!1};function xe(e,r={}){const t=Array.isArray(e);if(P(e)||t)for(const s in e)Array.isArray(e[s])||P(e[s])&&!At(e[s])?(r[s]=Array.isArray(e[s])?[]:{},xe(e[s],r[s])):R(e[s])||(r[s]=!0);return r}function wt(e,r,t){const s=Array.isArray(e);if(P(e)||s)for(const n in e)Array.isArray(e[n])||P(e[n])&&!At(e[n])?p(r)||Ie(t[n])?t[n]=Array.isArray(e[n])?xe(e[n],[]):{...xe(e[n])}:wt(e[n],R(r)?{}:r[n],t[n]):t[n]=!re(e[n],r[n]);return t}var ce=(e,r)=>wt(e,r,xe(r));const rt={value:!1,isValid:!1},st={value:!0,isValid:!0};var Et=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!p(e[0].attributes.value)?p(e[0].value)||e[0].value===""?st:{value:e[0].value,isValid:!0}:st:rt}return rt},St=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:s})=>p(e)?e:r?e===""?NaN:e&&+e:t&&J(e)?new Date(e):s?s(e):e;const it={isValid:!1,value:null};var Dt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,it):it;function nt(e){const r=e.ref;return ze(r)?r.files:$e(r)?Dt(e.refs).value:xt(r)?[...r.selectedOptions].map(({value:t})=>t):ge(r)?Et(e.refs).value:St(p(r.value)?e.ref.value:r.value,e)}var sr=(e,r,t,s)=>{const n={};for(const o of e){const u=d(r,o);u&&A(n,o,u._f)}return{criteriaMode:t,names:[...e],fields:n,shouldUseNativeValidation:s}},Ae=e=>e instanceof RegExp,fe=e=>p(e)?e:Ae(e)?e.source:P(e)?Ae(e.value)?e.value.source:e.value:e,ot=e=>({isOnSubmit:!e||e===H.onSubmit,isOnBlur:e===H.onBlur,isOnChange:e===H.onChange,isOnAll:e===H.all,isOnTouch:e===H.onTouched});const at="AsyncFunction";var ir=e=>!!e&&!!e.validate&&!!(Z(e.validate)&&e.validate.constructor.name===at||P(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===at)),nr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),ut=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const ye=(e,r,t,s)=>{for(const n of t||Object.keys(e)){const o=d(e,n);if(o){const{_f:u,...c}=o;if(u){if(u.refs&&u.refs[0]&&r(u.refs[0],n)&&!s)return!0;if(u.ref&&r(u.ref,u.name)&&!s)return!0;if(ye(c,r))break}else if(P(c)&&ye(c,r))break}}};function lt(e,r,t){const s=d(e,t);if(s||we(t))return{error:s,name:t};const n=t.split(".");for(;n.length;){const o=n.join("."),u=d(r,o),c=d(e,o);if(u&&!Array.isArray(u)&&t!==o)return{name:t};if(c&&c.type)return{name:o,error:c};if(c&&c.root&&c.root.type)return{name:`${o}.root`,error:c.root};n.pop()}return{name:t}}var or=(e,r,t,s)=>{t(e);const{name:n,...o}=e;return j(o)||Object.keys(o).length>=Object.keys(r).length||Object.keys(o).find(u=>r[u]===(!s||H.all))},ar=(e,r,t)=>!e||!r||e===r||de(e).some(s=>s&&(t?s===r:s.startsWith(r)||r.startsWith(s))),ur=(e,r,t,s,n)=>n.isOnAll?!1:!t&&n.isOnTouch?!(r||e):(t?s.isOnBlur:n.isOnBlur)?!e:(t?s.isOnChange:n.isOnChange)?e:!0,lr=(e,r)=>!Re(d(e,r)).length&&I(e,r),cr=(e,r,t)=>{const s=de(d(e,t));return A(s,"root",r[t]),A(e,t,s),e},_e=e=>J(e);function ct(e,r,t="validate"){if(_e(e)||Array.isArray(e)&&e.every(_e)||B(e)&&!e)return{type:t,message:_e(e)?e:"",ref:r}}var ue=e=>P(e)&&!Ae(e)?e:{value:e,message:""},ft=async(e,r,t,s,n,o)=>{const{ref:u,refs:c,required:m,maxLength:V,minLength:v,min:S,max:b,pattern:X,validate:$,name:k,valueAsNumber:C,mount:Y}=e._f,_=d(t,k);if(!Y||r.has(k))return{};const W=c?c[0]:u,U=F=>{n&&W.reportValidity&&(W.setCustomValidity(B(F)?"":F||""),W.reportValidity())},L={},he=$e(u),ee=ge(u),Se=he||ee,q=(C||ze(u))&&p(u.value)&&p(_)||Fe(u)&&u.value===""||_===""||Array.isArray(_)&&!_.length,se=Be.bind(null,k,s,L),K=(F,E,O,M=Q.maxLength,N=Q.minLength)=>{const G=F?E:O;L[k]={type:F?M:N,message:G,ref:u,...se(F?M:N,G)}};if(o?!Array.isArray(_)||!_.length:m&&(!Se&&(q||R(_))||B(_)&&!_||ee&&!Et(c).isValid||he&&!Dt(c).isValid)){const{value:F,message:E}=_e(m)?{value:!!m,message:m}:ue(m);if(F&&(L[k]={type:Q.required,message:E,ref:W,...se(Q.required,E)},!s))return U(E),L}if(!q&&(!R(S)||!R(b))){let F,E;const O=ue(b),M=ue(S);if(!R(_)&&!isNaN(_)){const N=u.valueAsNumber||_&&+_;R(O.value)||(F=N>O.value),R(M.value)||(E=N<M.value)}else{const N=u.valueAsDate||new Date(_),G=me=>new Date(new Date().toDateString()+" "+me),le=u.type=="time",ae=u.type=="week";J(O.value)&&_&&(F=le?G(_)>G(O.value):ae?_>O.value:N>new Date(O.value)),J(M.value)&&_&&(E=le?G(_)<G(M.value):ae?_<M.value:N<new Date(M.value))}if((F||E)&&(K(!!F,O.message,M.message,Q.max,Q.min),!s))return U(L[k].message),L}if((V||v)&&!q&&(J(_)||o&&Array.isArray(_))){const F=ue(V),E=ue(v),O=!R(F.value)&&_.length>+F.value,M=!R(E.value)&&_.length<+E.value;if((O||M)&&(K(O,F.message,E.message),!s))return U(L[k].message),L}if(X&&!q&&J(_)){const{value:F,message:E}=ue(X);if(Ae(F)&&!_.match(F)&&(L[k]={type:Q.pattern,message:E,ref:u,...se(Q.pattern,E)},!s))return U(E),L}if($){if(Z($)){const F=await $(_,t),E=ct(F,W);if(E&&(L[k]={...E,...se(Q.validate,E.message)},!s))return U(E.message),L}else if(P($)){let F={};for(const E in $){if(!j(F)&&!s)break;const O=ct(await $[E](_,t),W,E);O&&(F={...O,...se(E,O.message)},U(O.message),s&&(L[k]=F))}if(!j(F)&&(L[k]={ref:W,...F},!s))return L}}return U(!0),L};const fr={mode:H.onSubmit,reValidateMode:H.onChange,shouldFocusError:!0};function dr(e={}){let r={...fr,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Z(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1};const s={};let n=P(r.defaultValues)||P(r.values)?T(r.defaultValues||r.values)||{}:{},o=r.shouldUnregister?{}:T(n),u={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},m,V=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let S={...v};const b={array:tt(),state:tt()},X=r.criteriaMode===H.all,$=i=>a=>{clearTimeout(V),V=setTimeout(i,a)},k=async i=>{if(!r.disabled&&(v.isValid||S.isValid||i)){const a=r.resolver?j((await ee()).errors):await q(s,!0);a!==t.isValid&&b.state.next({isValid:a})}},C=(i,a)=>{!r.disabled&&(v.isValidating||v.validatingFields||S.isValidating||S.validatingFields)&&((i||Array.from(c.mount)).forEach(l=>{l&&(a?A(t.validatingFields,l,a):I(t.validatingFields,l))}),b.state.next({validatingFields:t.validatingFields,isValidating:!j(t.validatingFields)}))},Y=(i,a=[],l,g,y=!0,f=!0)=>{if(g&&l&&!r.disabled){if(u.action=!0,f&&Array.isArray(d(s,i))){const h=l(d(s,i),g.argA,g.argB);y&&A(s,i,h)}if(f&&Array.isArray(d(t.errors,i))){const h=l(d(t.errors,i),g.argA,g.argB);y&&A(t.errors,i,h),lr(t.errors,i)}if((v.touchedFields||S.touchedFields)&&f&&Array.isArray(d(t.touchedFields,i))){const h=l(d(t.touchedFields,i),g.argA,g.argB);y&&A(t.touchedFields,i,h)}(v.dirtyFields||S.dirtyFields)&&(t.dirtyFields=ce(n,o)),b.state.next({name:i,isDirty:K(i,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else A(o,i,a)},_=(i,a)=>{A(t.errors,i,a),b.state.next({errors:t.errors})},W=i=>{t.errors=i,b.state.next({errors:t.errors,isValid:!1})},U=(i,a,l,g)=>{const y=d(s,i);if(y){const f=d(o,i,p(l)?d(n,i):l);p(f)||g&&g.defaultChecked||a?A(o,i,a?f:nt(y._f)):O(i,f),u.mount&&k()}},L=(i,a,l,g,y)=>{let f=!1,h=!1;const x={name:i};if(!r.disabled){if(!l||g){(v.isDirty||S.isDirty)&&(h=t.isDirty,t.isDirty=x.isDirty=K(),f=h!==x.isDirty);const D=re(d(n,i),a);h=!!d(t.dirtyFields,i),D?I(t.dirtyFields,i):A(t.dirtyFields,i,!0),x.dirtyFields=t.dirtyFields,f=f||(v.dirtyFields||S.dirtyFields)&&h!==!D}if(l){const D=d(t.touchedFields,i);D||(A(t.touchedFields,i,l),x.touchedFields=t.touchedFields,f=f||(v.touchedFields||S.touchedFields)&&D!==l)}f&&y&&b.state.next(x)}return f?x:{}},he=(i,a,l,g)=>{const y=d(t.errors,i),f=(v.isValid||S.isValid)&&B(a)&&t.isValid!==a;if(r.delayError&&l?(m=$(()=>_(i,l)),m(r.delayError)):(clearTimeout(V),m=null,l?A(t.errors,i,l):I(t.errors,i)),(l?!re(y,l):y)||!j(g)||f){const h={...g,...f&&B(a)?{isValid:a}:{},errors:t.errors,name:i};t={...t,...h},b.state.next(h)}},ee=async i=>{C(i,!0);const a=await r.resolver(o,r.context,sr(i||c.mount,s,r.criteriaMode,r.shouldUseNativeValidation));return C(i),a},Se=async i=>{const{errors:a}=await ee(i);if(i)for(const l of i){const g=d(a,l);g?A(t.errors,l,g):I(t.errors,l)}else t.errors=a;return a},q=async(i,a,l={valid:!0})=>{for(const g in i){const y=i[g];if(y){const{_f:f,...h}=y;if(f){const x=c.array.has(f.name),D=y._f&&ir(y._f);D&&v.validatingFields&&C([g],!0);const z=await ft(y,c.disabled,o,X,r.shouldUseNativeValidation&&!a,x);if(D&&v.validatingFields&&C([g]),z[f.name]&&(l.valid=!1,a))break;!a&&(d(z,f.name)?x?cr(t.errors,z,f.name):A(t.errors,f.name,z[f.name]):I(t.errors,f.name))}!j(h)&&await q(h,a,l)}}return l.valid},se=()=>{for(const i of c.unMount){const a=d(s,i);a&&(a._f.refs?a._f.refs.every(l=>!Pe(l)):!Pe(a._f.ref))&&De(i)}c.unMount=new Set},K=(i,a)=>!r.disabled&&(i&&a&&A(o,i,a),!re(me(),n)),F=(i,a,l)=>Ft(i,c,{...u.mount?o:p(a)?n:J(i)?{[i]:a}:a},l,a),E=i=>Re(d(u.mount?o:n,i,r.shouldUnregister?d(n,i,[]):[])),O=(i,a,l={})=>{const g=d(s,i);let y=a;if(g){const f=g._f;f&&(!f.disabled&&A(o,i,St(a,f)),y=Fe(f.ref)&&R(a)?"":a,xt(f.ref)?[...f.ref.options].forEach(h=>h.selected=y.includes(h.value)):f.refs?ge(f.ref)?f.refs.forEach(h=>{(!h.defaultChecked||!h.disabled)&&(Array.isArray(y)?h.checked=!!y.find(x=>x===h.value):h.checked=y===h.value||!!y)}):f.refs.forEach(h=>h.checked=h.value===y):ze(f.ref)?f.ref.value="":(f.ref.value=y,f.ref.type||b.state.next({name:i,values:T(o)})))}(l.shouldDirty||l.shouldTouch)&&L(i,y,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&ae(i)},M=(i,a,l)=>{for(const g in a){if(!a.hasOwnProperty(g))return;const y=a[g],f=i+"."+g,h=d(s,f);(c.array.has(i)||P(y)||h&&!h._f)&&!ie(y)?M(f,y,l):O(f,y,l)}},N=(i,a,l={})=>{const g=d(s,i),y=c.array.has(i),f=T(a);A(o,i,f),y?(b.array.next({name:i,values:T(o)}),(v.isDirty||v.dirtyFields||S.isDirty||S.dirtyFields)&&l.shouldDirty&&b.state.next({name:i,dirtyFields:ce(n,o),isDirty:K(i,f)})):g&&!g._f&&!R(f)?M(i,f,l):O(i,f,l),ut(i,c)&&b.state.next({...t}),b.state.next({name:u.mount?i:void 0,values:T(o)})},G=async i=>{u.mount=!0;const a=i.target;let l=a.name,g=!0;const y=d(s,l),f=D=>{g=Number.isNaN(D)||ie(D)&&isNaN(D.getTime())||re(D,d(o,l,D))},h=ot(r.mode),x=ot(r.reValidateMode);if(y){let D,z;const ve=a.type?nt(y._f):vt(i),te=i.type===Ve.BLUR||i.type===Ve.FOCUS_OUT,$t=!nr(y._f)&&!r.resolver&&!d(t.errors,l)&&!y._f.deps||ur(te,d(t.touchedFields,l),t.isSubmitted,x,h),pe=ut(l,c,te);A(o,l,ve),te?(y._f.onBlur&&y._f.onBlur(i),m&&m(0)):y._f.onChange&&y._f.onChange(i);const Oe=L(l,ve,te),Wt=!j(Oe)||pe;if(!te&&b.state.next({name:l,type:i.type,values:T(o)}),$t)return(v.isValid||S.isValid)&&(r.mode==="onBlur"?te&&k():te||k()),Wt&&b.state.next({name:l,...pe?{}:Oe});if(!te&&pe&&b.state.next({...t}),r.resolver){const{errors:Xe}=await ee([l]);if(f(ve),g){const qt=lt(t.errors,s,l),et=lt(Xe,s,qt.name||l);D=et.error,l=et.name,z=j(Xe)}}else C([l],!0),D=(await ft(y,c.disabled,o,X,r.shouldUseNativeValidation))[l],C([l]),f(ve),g&&(D?z=!1:(v.isValid||S.isValid)&&(z=await q(s,!0)));g&&(y._f.deps&&ae(y._f.deps),he(l,z,D,Oe))}},le=(i,a)=>{if(d(t.errors,a)&&i.focus)return i.focus(),1},ae=async(i,a={})=>{let l,g;const y=de(i);if(r.resolver){const f=await Se(p(i)?i:y);l=j(f),g=i?!y.some(h=>d(f,h)):l}else i?(g=(await Promise.all(y.map(async f=>{const h=d(s,f);return await q(h&&h._f?{[f]:h}:h)}))).every(Boolean),!(!g&&!t.isValid)&&k()):g=l=await q(s);return b.state.next({...!J(i)||(v.isValid||S.isValid)&&l!==t.isValid?{}:{name:i},...r.resolver||!i?{isValid:l}:{},errors:t.errors}),a.shouldFocus&&!g&&ye(s,le,i?y:c.mount),g},me=i=>{const a={...u.mount?o:n};return p(i)?a:J(i)?d(a,i):i.map(l=>d(a,l))},qe=(i,a)=>({invalid:!!d((a||t).errors,i),isDirty:!!d((a||t).dirtyFields,i),error:d((a||t).errors,i),isValidating:!!d(t.validatingFields,i),isTouched:!!d((a||t).touchedFields,i)}),Mt=i=>{i&&de(i).forEach(a=>I(t.errors,a)),b.state.next({errors:i?t.errors:{}})},He=(i,a,l)=>{const g=(d(s,i,{_f:{}})._f||{}).ref,y=d(t.errors,i)||{},{ref:f,message:h,type:x,...D}=y;A(t.errors,i,{...D,...a,ref:g}),b.state.next({name:i,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&g&&g.focus&&g.focus()},Rt=(i,a)=>Z(i)?b.state.subscribe({next:l=>i(F(void 0,a),l)}):F(i,a,!0),Ze=i=>b.state.subscribe({next:a=>{ar(i.name,a.name,i.exact)&&or(a,i.formState||v,zt,i.reRenderRoot)&&i.callback({values:{...o},...t,...a})}}).unsubscribe,Ut=i=>(u.mount=!0,S={...S,...i.formState},Ze({...i,formState:S})),De=(i,a={})=>{for(const l of i?de(i):c.mount)c.mount.delete(l),c.array.delete(l),a.keepValue||(I(s,l),I(o,l)),!a.keepError&&I(t.errors,l),!a.keepDirty&&I(t.dirtyFields,l),!a.keepTouched&&I(t.touchedFields,l),!a.keepIsValidating&&I(t.validatingFields,l),!r.shouldUnregister&&!a.keepDefaultValue&&I(n,l);b.state.next({values:T(o)}),b.state.next({...t,...a.keepDirty?{isDirty:K()}:{}}),!a.keepIsValid&&k()},Ke=({disabled:i,name:a})=>{(B(i)&&u.mount||i||c.disabled.has(a))&&(i?c.disabled.add(a):c.disabled.delete(a))},ke=(i,a={})=>{let l=d(s,i);const g=B(a.disabled)||B(r.disabled);return A(s,i,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:i}},name:i,mount:!0,...a}}),c.mount.add(i),l?Ke({disabled:B(a.disabled)?a.disabled:r.disabled,name:i}):U(i,!0,a.value),{...g?{disabled:a.disabled||r.disabled}:{},...r.progressive?{required:!!a.required,min:fe(a.min),max:fe(a.max),minLength:fe(a.minLength),maxLength:fe(a.maxLength),pattern:fe(a.pattern)}:{},name:i,onChange:G,onBlur:G,ref:y=>{if(y){ke(i,a),l=d(s,i);const f=p(y.value)&&y.querySelectorAll&&y.querySelectorAll("input,select,textarea")[0]||y,h=er(f),x=l._f.refs||[];if(h?x.find(D=>D===f):f===l._f.ref)return;A(s,i,{_f:{...l._f,...h?{refs:[...x.filter(Pe),f,...Array.isArray(d(n,i))?[{}]:[]],ref:{type:f.type,name:i}}:{ref:f}}}),U(i,!1,void 0,f)}else l=d(s,i,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(bt(c.array,i)&&u.action)&&c.unMount.add(i)}}},Ce=()=>r.shouldFocusError&&ye(s,le,c.mount),Nt=i=>{B(i)&&(b.state.next({disabled:i}),ye(s,(a,l)=>{const g=d(s,l);g&&(a.disabled=g._f.disabled||i,Array.isArray(g._f.refs)&&g._f.refs.forEach(y=>{y.disabled=g._f.disabled||i}))},0,!1))},Ge=(i,a)=>async l=>{let g;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let y=T(o);if(b.state.next({isSubmitting:!0}),r.resolver){const{errors:f,values:h}=await ee();t.errors=f,y=T(h)}else await q(s);if(c.disabled.size)for(const f of c.disabled)I(y,f);if(I(t.errors,"root"),j(t.errors)){b.state.next({errors:{}});try{await i(y,l)}catch(f){g=f}}else a&&await a({...t.errors},l),Ce(),setTimeout(Ce);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:j(t.errors)&&!g,submitCount:t.submitCount+1,errors:t.errors}),g)throw g},jt=(i,a={})=>{d(s,i)&&(p(a.defaultValue)?N(i,T(d(n,i))):(N(i,a.defaultValue),A(n,i,T(a.defaultValue))),a.keepTouched||I(t.touchedFields,i),a.keepDirty||(I(t.dirtyFields,i),t.isDirty=a.defaultValue?K(i,T(d(n,i))):K()),a.keepError||(I(t.errors,i),v.isValid&&k()),b.state.next({...t}))},Je=(i,a={})=>{const l=i?T(i):n,g=T(l),y=j(i),f=y?n:g;if(a.keepDefaultValues||(n=l),!a.keepValues){if(a.keepDirtyValues){const h=new Set([...c.mount,...Object.keys(ce(n,o))]);for(const x of Array.from(h))d(t.dirtyFields,x)?A(f,x,d(o,x)):N(x,d(f,x))}else{if(Me&&p(i))for(const h of c.mount){const x=d(s,h);if(x&&x._f){const D=Array.isArray(x._f.refs)?x._f.refs[0]:x._f.ref;if(Fe(D)){const z=D.closest("form");if(z){z.reset();break}}}}for(const h of c.mount){const x=d(f,h,d(n,h));p(x)||(A(f,h,x),N(h,d(f,h)))}}o=T(f),b.array.next({values:{...f}}),b.state.next({values:{...f}})}c={mount:a.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!v.isValid||!!a.keepIsValid||!!a.keepDirtyValues,u.watch=!!r.shouldUnregister,b.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:y?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!re(i,n)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:y?{}:a.keepDirtyValues?a.keepDefaultValues&&o?ce(n,o):t.dirtyFields:a.keepDefaultValues&&i?ce(n,i):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Ye=(i,a)=>Je(Z(i)?i(o):i,a),Bt=(i,a={})=>{const l=d(s,i),g=l&&l._f;if(g){const y=g.refs?g.refs[0]:g.ref;y.focus&&(y.focus(),a.shouldSelect&&Z(y.select)&&y.select())}},zt=i=>{t={...t,...i}},Qe={control:{register:ke,unregister:De,getFieldState:qe,handleSubmit:Ge,setError:He,_subscribe:Ze,_runSchema:ee,_focusError:Ce,_getWatch:F,_getDirty:K,_setValid:k,_setFieldArray:Y,_setDisabledField:Ke,_setErrors:W,_getFieldArray:E,_reset:Je,_resetDefaultValues:()=>Z(r.defaultValues)&&r.defaultValues().then(i=>{Ye(i,r.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:se,_disableForm:Nt,_subjects:b,_proxyFormState:v,get _fields(){return s},get _formValues(){return o},get _state(){return u},set _state(i){u=i},get _defaultValues(){return n},get _names(){return c},set _names(i){c=i},get _formState(){return t},get _options(){return r},set _options(i){r={...r,...i}}},subscribe:Ut,trigger:ae,register:ke,handleSubmit:Ge,watch:Rt,setValue:N,getValues:me,reset:Ye,resetField:jt,clearErrors:Mt,unregister:De,setError:He,setFocus:Bt,getFieldState:qe};return{...Qe,formControl:Qe}}function kr(e={}){const r=w.useRef(void 0),t=w.useRef(void 0),[s,n]=w.useState({isDirty:!1,isValidating:!1,isLoading:Z(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Z(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current={...e.formControl,formState:s},e.defaultValues&&!Z(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:u,...c}=dr(e);r.current={...c,formState:s}}const o=r.current.control;return o._options=e,je(()=>{const u=o._subscribe({formState:o._proxyFormState,callback:()=>n({...o._formState}),reRenderRoot:!0});return n(c=>({...c,isReady:!0})),o._formState.isReady=!0,u},[o]),w.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),w.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),w.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),w.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),w.useEffect(()=>{if(o._proxyFormState.isDirty){const u=o._getDirty();u!==s.isDirty&&o._subjects.state.next({isDirty:u})}},[o,s.isDirty]),w.useEffect(()=>{e.values&&!re(e.values,t.current)?(o._reset(e.values,o._options.resetOptions),t.current=e.values,n(u=>({...u}))):o._resetDefaultValues()},[o,e.values]),w.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),r.current.formState=_t(s,o),r.current}const Cr=Jt,kt=ne.createContext({}),pr=({...e})=>oe.jsx(kt.Provider,{value:{name:e.name},children:oe.jsx(Xt,{...e})}),We=()=>{const e=ne.useContext(kt),r=ne.useContext(Ct),{getFieldState:t}=Ee(),s=Vt({name:e.name}),n=t(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=r;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...n}},Ct=ne.createContext({});function Or({className:e,...r}){const t=ne.useId();return oe.jsx(Ct.Provider,{value:{id:t},children:oe.jsx("div",{"data-slot":"form-item",className:Te("grid gap-2",e),...r})})}function Pr({className:e,...r}){const{error:t,formItemId:s}=We();return oe.jsx(Zt,{"data-slot":"form-label","data-error":!!t,className:Te("data-[error=true]:text-destructive",e),htmlFor:s,...r})}function Ir({...e}){const{error:r,formItemId:t,formDescriptionId:s,formMessageId:n}=We();return oe.jsx(Ht,{"data-slot":"form-control",id:t,"aria-describedby":r?`${s} ${n}`:`${s}`,"aria-invalid":!!r,...e})}function Lr({className:e,...r}){const{error:t,formMessageId:s}=We(),n=t?String(t?.message??""):r.children;return n?oe.jsx("p",{"data-slot":"form-message",id:s,className:Te("text-destructive text-sm",e),...r,children:n}):null}const dt=(e,r,t)=>{if(e&&"reportValidity"in e){const s=d(t,r);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},Le=(e,r)=>{for(const t in r.fields){const s=r.fields[t];s&&s.ref&&"reportValidity"in s.ref?dt(s.ref,t,e):s&&s.refs&&s.refs.forEach(n=>dt(n,t,e))}},yt=(e,r)=>{r.shouldUseNativeValidation&&Le(e,r);const t={};for(const s in e){const n=d(r.fields,s),o=Object.assign(e[s]||{},{ref:n&&n.ref});if(yr(r.names||Object.keys(e),s)){const u=Object.assign({},d(t,s));A(u,"root",o),A(t,s,u)}else A(t,s,o)}return t},yr=(e,r)=>{const t=gt(r);return e.some(s=>gt(s).match(`^${t}\\.\\d+`))};function gt(e){return e.replace(/\]|\[/g,"")}function pt(e,r,t){function s(c,m){var V;Object.defineProperty(c,"_zod",{value:c._zod??{},enumerable:!1}),(V=c._zod).traits??(V.traits=new Set),c._zod.traits.add(e),r(c,m);for(const v in u.prototype)v in c||Object.defineProperty(c,v,{value:u.prototype[v].bind(c)});c._zod.constr=u,c._zod.def=m}const n=t?.Parent??Object;class o extends n{}Object.defineProperty(o,"name",{value:e});function u(c){var m;const V=t?.Parent?new o:this;s(V,c),(m=V._zod).deferred??(m.deferred=[]);for(const v of V._zod.deferred)v();return V}return Object.defineProperty(u,"init",{value:s}),Object.defineProperty(u,Symbol.hasInstance,{value:c=>t?.Parent&&c instanceof t.Parent?!0:c?._zod?.traits?.has(e)}),Object.defineProperty(u,"name",{value:e}),u}class gr extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const hr={};function Ot(e){return hr}function mr(e,r){return typeof r=="bigint"?r.toString():r}const Pt=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function be(e){return typeof e=="string"?e:e?.message}function It(e,r,t){const s={...e,path:e.path??[]};if(!e.message){const n=be(e.inst?._zod.def?.error?.(e))??be(r?.error?.(e))??be(t.customError?.(e))??be(t.localeError?.(e))??"Invalid input";s.message=n}return delete s.inst,delete s.continue,r?.reportInput||delete s.input,s}const Lt=(e,r)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:r,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(r,mr,2)},enumerable:!0})},vr=pt("$ZodError",Lt),Tt=pt("$ZodError",Lt,{Parent:Error}),br=e=>(r,t,s,n)=>{const o=s?Object.assign(s,{async:!1}):{async:!1},u=r._zod.run({value:t,issues:[]},o);if(u instanceof Promise)throw new gr;if(u.issues.length){const c=new(n?.Err??e)(u.issues.map(m=>It(m,o,Ot())));throw Pt(c,n?.callee),c}return u.value},_r=br(Tt),Vr=e=>async(r,t,s,n)=>{const o=s?Object.assign(s,{async:!0}):{async:!0};let u=r._zod.run({value:t,issues:[]},o);if(u instanceof Promise&&(u=await u),u.issues.length){const c=new(n?.Err??e)(u.issues.map(m=>It(m,o,Ot())));throw Pt(c,n?.callee),c}return u.value},Fr=Vr(Tt);function ht(e,r){try{var t=e()}catch(s){return r(s)}return t&&t.then?t.then(void 0,r):t}function xr(e,r){for(var t={};e.length;){var s=e[0],n=s.code,o=s.message,u=s.path.join(".");if(!t[u])if("unionErrors"in s){var c=s.unionErrors[0].errors[0];t[u]={message:c.message,type:c.code}}else t[u]={message:o,type:n};if("unionErrors"in s&&s.unionErrors.forEach(function(v){return v.errors.forEach(function(S){return e.push(S)})}),r){var m=t[u].types,V=m&&m[s.code];t[u]=Be(u,r,t,n,V?[].concat(V,s.message):s.message)}e.shift()}return t}function Ar(e,r){for(var t={};e.length;){var s=e[0],n=s.code,o=s.message,u=s.path.join(".");if(!t[u])if(s.code==="invalid_union"){var c=s.errors[0][0];t[u]={message:c.message,type:c.code}}else t[u]={message:o,type:n};if(s.code==="invalid_union"&&s.errors.forEach(function(v){return v.forEach(function(S){return e.push(S)})}),r){var m=t[u].types,V=m&&m[s.code];t[u]=Be(u,r,t,n,V?[].concat(V,s.message):s.message)}e.shift()}return t}function Tr(e,r,t){if(t===void 0&&(t={}),function(s){return"_def"in s&&typeof s._def=="object"&&"typeName"in s._def}(e))return function(s,n,o){try{return Promise.resolve(ht(function(){return Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](s,r)).then(function(u){return o.shouldUseNativeValidation&&Le({},o),{errors:{},values:t.raw?Object.assign({},s):u}})},function(u){if(function(c){return Array.isArray(c?.issues)}(u))return{values:{},errors:yt(xr(u.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw u}))}catch(u){return Promise.reject(u)}};if(function(s){return"_zod"in s&&typeof s._zod=="object"}(e))return function(s,n,o){try{return Promise.resolve(ht(function(){return Promise.resolve((t.mode==="sync"?_r:Fr)(e,s,r)).then(function(u){return o.shouldUseNativeValidation&&Le({},o),{errors:{},values:t.raw?Object.assign({},s):u}})},function(u){if(function(c){return c instanceof vr}(u))return{values:{},errors:yt(Ar(u.issues,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw u}))}catch(u){return Promise.reject(u)}};throw new Error("Invalid input: not a Zod schema")}export{Cr as F,Tr as a,pr as b,Or as c,Pr as d,Ir as e,Lr as f,kr as u};
