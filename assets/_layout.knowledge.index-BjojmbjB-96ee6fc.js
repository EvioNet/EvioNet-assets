import{P as c,j as e,L as m}from"./index-CQUkWCLN-96ee6fc.js";import{C as d,a as x,b as p,c as h,d as f}from"./card-DVPyZzSX-96ee6fc.js";import{B as i}from"./badge-FLfc-5ph-96ee6fc.js";import{c as g}from"./utils-BKHnhWZ0-96ee6fc.js";import{c as u,k as j}from"./formatters-X6HcxKKb-96ee6fc.js";import{P as N,E as b}from"./page-header-C6Aqda0o-96ee6fc.js";import{B as l}from"./book-open-Cbs-aYTw-96ee6fc.js";import"./button-DMYcAhRi-96ee6fc.js";import"./package-Dcu5w-_t-96ee6fc.js";import"./circle-check-big-BAbX1lFl-96ee6fc.js";const S=function(){const r=c.useLoaderData(),o=Object.keys(r||{}),n=Object.values(r||{}).reduce((s,t)=>s+t.length,0);return e.jsxs("div",{className:"container mx-auto space-y-6",children:[e.jsx(N,{title:"知识库",description:`共 ${o.length} 个分类，${n} 篇文章`,icon:l}),e.jsx("div",{className:"space-y-8",children:o.length===0?e.jsx(b,{icon:l,title:"暂无文章",description:"知识库暂时为空，管理员还没有添加任何文章。请稍后再来查看。"}):o.map(s=>{const t=r[s]||[];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(i,{variant:"secondary",className:"text-sm px-3 py-1",children:s}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.length," 篇文章"]})]}),e.jsx("div",{className:"grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:t.map(a=>e.jsx(m,{to:"/knowledge/$id",from:"/",params:{id:a.id.toString()},className:"block h-full",children:e.jsxs(d,{className:g("h-full flex flex-col cursor-pointer transition-all duration-200","hover:shadow-lg hover:scale-[1.02] hover:-translate-y-1","border-l-4 border-l-primary/20 hover:border-l-primary","bg-gradient-to-br from-background to-muted/20"),children:[e.jsxs(x,{className:"pb-3 flex-shrink-0",children:[e.jsx(p,{className:"text-base font-semibold line-clamp-2 min-h-[2.5rem] leading-tight",children:a.title}),e.jsxs(h,{className:"flex items-center space-x-2 text-xs",children:[e.jsx(u,{className:"h-3 w-3 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:j(a.updated_at)})]})]}),e.jsx(f,{className:"pt-0 flex-grow flex items-end",children:e.jsx(i,{variant:"outline",className:"text-xs px-2 py-1 truncate max-w-full",children:a.category})})]})},a.id))})]},s)})})]})};export{S as component};
